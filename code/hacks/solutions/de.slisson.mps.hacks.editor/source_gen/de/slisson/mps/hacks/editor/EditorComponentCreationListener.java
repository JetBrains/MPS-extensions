package de.slisson.mps.hacks.editor;

/*Generated by MPS */

import jetbrains.mps.openapi.editor.extensions.EditorExtension;
import com.intellij.openapi.project.Project;
import jetbrains.mps.ide.project.ProjectHelper;
import org.jetbrains.annotations.NotNull;
import jetbrains.mps.openapi.editor.EditorComponent;
import jetbrains.mps.openapi.editor.extensions.EditorExtensionRegistry;

/**
 * 
 * @deprecated  Use jetbrains.mps.openapi.editor.extensions.EditorExtension
 */
@Deprecated
public abstract class EditorComponentCreationListener implements EditorExtension {

  private Project myIdeaProject;

  @Deprecated
  public EditorComponentCreationListener(jetbrains.mps.project.Project project) {
    this(ProjectHelper.toIdeaProject(project));
  }

  @Deprecated
  public EditorComponentCreationListener(Project ideaProject) {
    myIdeaProject = ideaProject;
  }

  @Override
  public void install(@NotNull EditorComponent component) {
    editorComponentCreate(((jetbrains.mps.nodeEditor.EditorComponent) component));
  }

  @Override
  public boolean isApplicable(@NotNull EditorComponent component) {
    return true;
  }

  @Override
  public void uninstall(@NotNull EditorComponent component) {
    editorComponentDisposed(((jetbrains.mps.nodeEditor.EditorComponent) component));
  }

  public void start(boolean eventForExisting) {
    myIdeaProject.getComponent(EditorExtensionRegistry.class).registerExtension(this);
  }

  public void stop() {
    myIdeaProject.getComponent(EditorExtensionRegistry.class).unregisterExtension(this);
  }

  public abstract void editorComponentCreate(jetbrains.mps.nodeEditor.EditorComponent editorComponent);
  public abstract void editorComponentDisposed(jetbrains.mps.nodeEditor.EditorComponent editorComponent);

}

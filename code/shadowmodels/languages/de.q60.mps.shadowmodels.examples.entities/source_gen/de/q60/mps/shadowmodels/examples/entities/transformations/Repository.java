package de.q60.mps.shadowmodels.examples.entities.transformations;

/*Generated by MPS */

import de.q60.mps.polymorphicfunctions.runtime.PFModule;
import jetbrains.mps.logging.Logger;
import jetbrains.mps.baseLanguage.closures.runtime._FunctionTypes;
import de.q60.mps.polymorphicfunctions.runtime.IFunctionImplementation;
import java.util.List;
import de.q60.mps.polymorphicfunctions.runtime.IParameterType;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.ArrayList;
import de.q60.mps.polymorphicfunctions.runtime.IPFContext;
import de.q60.mps.polymorphicfunctions.runtime.ParameterList;
import org.jetbrains.mps.openapi.language.SLanguage;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import de.q60.mps.shadowmodels.runtime.engine.ParameterType_INode;
import org.modelix.model.mpsadapters.mps.SConceptAdapter;
import org.modelix.model.api.INode;
import de.q60.mps.shadowmodels.runtime.smodel.SM_GeneratedTransformationRule;
import jetbrains.mps.smodel.SNodePointer;
import de.q60.mps.shadowmodels.runtime.engine.ContainmentTargetRootNodes;
import de.q60.mps.shadowmodels.runtime.engine.TransformationCall;
import de.q60.mps.shadowmodels.runtime.engine.TransformationResult;
import de.q60.mps.shadowmodels.runtime.engine.ContributionContext;
import de.q60.mps.shadowmodels.runtime.engine.IBuilderContext;
import de.q60.mps.shadowmodels.runtime.engine.BuilderContextParameter;
import de.q60.mps.shadowmodels.runtime.smodel.SM_ParameterConversion;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.Sequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import de.q60.mps.shadowmodels.runtime.engine.GoalCall;
import de.q60.mps.shadowmodels.runtime.engine.RootBuilderContext;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import de.q60.mps.shadowmodels.runtime.engine.TransformationEngine;
import de.q60.mps.polymorphicfunctions.runtime.ParameterType_Classifier;
import de.q60.mps.shadowmodels.runtime.mpslike.MappingConfiguration;
import de.q60.mps.shadowmodels.runtime.mpslike.GenplanRule;
import de.q60.mps.shadowmodels.runtime.mpslike.GenplanRule_Before;
import de.q60.mps.shadowmodels.runtime.mpslike.MappingConfigurationId;
import org.jetbrains.mps.openapi.language.SConcept;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SProperty;

public class Repository extends PFModule {
  private static final Logger LOG = Logger.getLogger(Repository.class);
  public static final Repository INSTANCE = ((_FunctionTypes._return_P0_E0<Repository>) () -> {
    try {
      return new Repository();
    } catch (RuntimeException ex) {
      if (LOG.isErrorLevel()) {
        LOG.error("Failed to load " + Repository.class.getName(), ex);
      }
      throw ex;
    }
  }).invoke();
  private Repository() {
    myImplementations.put("de.q60.mps.shadowmodels.transformation.polyfun.TransformationModuleMetaFunctions.getOutputLanguages", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromList(new ArrayList<IParameterType>());
      private List<String> contextIds = ListSequence.fromList(new ArrayList<String>());
      private List<String> groupIds = ListSequence.fromList(new ArrayList<String>());
      @Override
      public String getId() {
        return "de.q60.mps.shadowmodels.examples.entities.transformations/Repository/getOutputLanguages_0";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return ListSequence.fromListAndArray(new ArrayList<SLanguage>(), MetaAdapterFactory.getLanguage(0xfdda8484fc574faaL, 0x9059032e2b8b648fL, "de.q60.mps.shadowmodels.repository"), MetaAdapterFactory.getLanguage(0xa7577d1d4e5431dL, 0x98b1fae38f9aee80L, "org.modelix.model.repositoryconcepts"), MetaAdapterFactory.getLanguage(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, "jetbrains.mps.lang.core"), MetaAdapterFactory.getLanguage(0xca32b5facaea4f97L, 0x96866f60d4d677d4L, "de.q60.mps.shadowmodels.examples.entities"), MetaAdapterFactory.getLanguage(0xa7322769ef644daaL, 0xa2f4fd4228fb713eL, "de.q60.mps.shadowmodels.target.text"), MetaAdapterFactory.getLanguage(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, "jetbrains.mps.baseLanguage"));
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
    myImplementations.put("de.q60.mps.shadowmodels.repository.transformations.ShadowRepository.Repository&", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromListAndArray(new ArrayList<IParameterType>(), new ParameterType_INode(SConceptAdapter.wrap(CONCEPTS.Repository$db)));
      private List<String> contextIds = ListSequence.fromList(new ArrayList<String>());
      private List<String> groupIds = ListSequence.fromList(new ArrayList<String>());
      @Override
      public String getId() {
        return "de.q60.mps.shadowmodels.examples.entities.transformations/Repository/Repository&_1";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        if (!(_PFparameters.get(0) == null || _PFparameters.get(0) instanceof INode && ((INode) _PFparameters.get(0)).getConcept().isSubConceptOf(SConceptAdapter.wrap(CONCEPTS.Repository$db)))) {
          return false;
        }
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return new SM_GeneratedTransformationRule(new SNodePointer("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)", "1038241485677570878")) {
          @Override
          public void apply(ContainmentTargetRootNodes<TransformationCall> call, final TransformationResult result) {
            if (result.getFirstRootElement(0) == null) {
              return;
            }
            new ContributionContext(call, result).run((final IBuilderContext context) -> {
              result.setTraceInfo("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/1038241485677570878");
              context.forChildRole("0").run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                public void invoke(final IBuilderContext context) {
                  context.withParameter(BuilderContextParameter.ID, "CcZYJH_R_0").createNode(new SConceptAdapter(CONCEPTS.Repository$db)).run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                    public void invoke(final IBuilderContext context) {
                      context.getResultElement().setTraceInfo("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/1038241485677572084");
                      if (true) {
                        context.forChildRole("modules").run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                          public void invoke(final IBuilderContext context) {
                            context.withParameter(BuilderContextParameter.ID, "CcZYJH_R_1").createNode(new SConceptAdapter(CONCEPTS.Module$4i)).run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                              public void invoke(final IBuilderContext context) {
                                context.getResultElement().setTraceInfo("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/1038241485677574243");
                                final IBuilderContext savedContext_wm5ned_a0a0a1 = context;
                                context.getResultElement().setProperty("name", () -> {
                                  return savedContext_wm5ned_a0a0a1.compute(new _FunctionTypes._return_P1_E0<String, IBuilderContext>() {
                                    public String invoke(final IBuilderContext context) {
                                      return SM_ParameterConversion.asString("examples.entities");
                                    }
                                  });
                                });
                                if (true) {
                                  context.forChildRole("models").run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                                    public void invoke(final IBuilderContext context) {
                                      int i_a1a0a0b = 0;
                                      for (SNode e_a1a0a0b : Sequence.fromIterable(SLinkOperations.collectMany(SLinkOperations.getChildren(SM_ParameterConversion.toMPS(((INode) context.getContextValue())), LINKS.modules$jBPn), LINKS.models$h3QT)).where((it) -> Sequence.fromIterable(SNodeOperations.ofConcept(SLinkOperations.getChildren(it, LINKS.rootNodes$jxXY), CONCEPTS.Entity$dF)).isNotEmpty())) {
                                        context.forContextValue(SM_ParameterConversion.fromMPS(e_a1a0a0b)).withAdditionalIdPrefix("CcZYJH_R_2" + "#" + i_a1a0a0b).run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                                          public void invoke(final IBuilderContext context) {
                                            context.createNode(new TransformationCall("de.q60.mps.shadowmodels.examples.entities.transformations.Repository.entitiesModelToFiles", new ParameterList(ListSequence.fromListAndArray(new ArrayList<Object>(), SM_ParameterConversion.fromMPS(SM_ParameterConversion.toMPS(((INode) context.getContextValue()))))), "r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/1038241485677604286"));
                                          }
                                        });
                                        i_a1a0a0b++;
                                      }
                                    }
                                  });
                                }
                              }
                            });
                          }
                        });
                      }
                      if (true) {
                        context.forChildRole("modules").run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                          public void invoke(final IBuilderContext context) {
                            context.withParameter(BuilderContextParameter.ID, "CcZYJH_R_3").createNode(new SConceptAdapter(CONCEPTS.Module$4i)).run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                              public void invoke(final IBuilderContext context) {
                                context.getResultElement().setTraceInfo("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/2534269625274658160");
                                final IBuilderContext savedContext_wm5ned_a0b0a1 = context;
                                context.getResultElement().setProperty("name", () -> {
                                  return savedContext_wm5ned_a0b0a1.compute(new _FunctionTypes._return_P1_E0<String, IBuilderContext>() {
                                    public String invoke(final IBuilderContext context) {
                                      return SM_ParameterConversion.asString("examples.entities.java");
                                    }
                                  });
                                });
                                if (true) {
                                  context.forChildRole("models").run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                                    public void invoke(final IBuilderContext context) {
                                      int i_a1a1a0b = 0;
                                      for (SNode e_a1a1a0b : Sequence.fromIterable(SLinkOperations.collectMany(SLinkOperations.getChildren(SM_ParameterConversion.toMPS(((INode) context.getContextValue())), LINKS.modules$jBPn), LINKS.models$h3QT)).where((it) -> Sequence.fromIterable(SNodeOperations.ofConcept(SLinkOperations.getChildren(it, LINKS.rootNodes$jxXY), CONCEPTS.Entity$dF)).isNotEmpty())) {
                                        context.forContextValue(SM_ParameterConversion.fromMPS(e_a1a1a0b)).withAdditionalIdPrefix("CcZYJH_R_4" + "#" + i_a1a1a0b).run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                                          public void invoke(final IBuilderContext context) {
                                            context.createNode(new TransformationCall("de.q60.mps.shadowmodels.examples.entities.transformations.Repository.entititesModelToJavaModel", new ParameterList(ListSequence.fromListAndArray(new ArrayList<Object>(), SM_ParameterConversion.fromMPS(SM_ParameterConversion.toMPS(((INode) context.getContextValue()))))), "r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/2534269625274658209"));
                                          }
                                        });
                                        i_a1a1a0b++;
                                      }
                                    }
                                  });
                                }
                              }
                            });
                          }
                        });
                      }
                      if (true) {
                        context.forChildRole("modules").run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                          public void invoke(final IBuilderContext context) {
                            context.withParameter(BuilderContextParameter.ID, "CcZYJH_R_5").createNode(new SConceptAdapter(CONCEPTS.Module$4i)).run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                              public void invoke(final IBuilderContext context) {
                                context.getResultElement().setTraceInfo("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/1109773557179923818");
                                final IBuilderContext savedContext_wm5ned_a0c0a1 = context;
                                context.getResultElement().setProperty("name", () -> {
                                  return savedContext_wm5ned_a0c0a1.compute(new _FunctionTypes._return_P1_E0<String, IBuilderContext>() {
                                    public String invoke(final IBuilderContext context) {
                                      return SM_ParameterConversion.asString("examples.entities.reduceToJava");
                                    }
                                  });
                                });
                                if (true) {
                                  context.forChildRole("models").run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                                    public void invoke(final IBuilderContext context) {
                                      int i_a1a2a0b = 0;
                                      for (SNode e_a1a2a0b : Sequence.fromIterable(SLinkOperations.collectMany(SLinkOperations.getChildren(SM_ParameterConversion.toMPS(((INode) context.getContextValue())), LINKS.modules$jBPn), LINKS.models$h3QT)).where((it) -> Sequence.fromIterable(SNodeOperations.ofConcept(SLinkOperations.getChildren(it, LINKS.rootNodes$jxXY), CONCEPTS.Entity$dF)).isNotEmpty())) {
                                        context.forContextValue(SM_ParameterConversion.fromMPS(e_a1a2a0b)).withAdditionalIdPrefix("CcZYJH_R_6" + "#" + i_a1a2a0b).run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                                          public void invoke(final IBuilderContext context) {
                                            context.createNode(((GoalCall) _PFcontext.callFunction("de.q60.mps.shadowmodels.examples.entities.transformations.EntitiesToJava_reduce.entitiesToJava", new ParameterList(new Object[]{SM_ParameterConversion.fromMPS(SM_ParameterConversion.toMPS(((INode) context.getContextValue())))}))).setTraceInfo("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/1109773557179928943"));
                                          }
                                        });
                                        i_a1a2a0b++;
                                      }
                                    }
                                  });
                                }
                              }
                            });
                          }
                        });
                      }
                      if (true) {
                        context.forChildRole("modules").run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                          public void invoke(final IBuilderContext context) {
                            context.withParameter(BuilderContextParameter.ID, "CcZYJH_R_7").createNode(new SConceptAdapter(CONCEPTS.Module$4i)).run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                              public void invoke(final IBuilderContext context) {
                                context.getResultElement().setTraceInfo("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/3676835399134018454");
                                final IBuilderContext savedContext_wm5ned_a0d0a1 = context;
                                context.getResultElement().setProperty("name", () -> {
                                  return savedContext_wm5ned_a0d0a1.compute(new _FunctionTypes._return_P1_E0<String, IBuilderContext>() {
                                    public String invoke(final IBuilderContext context) {
                                      return SM_ParameterConversion.asString("examples.entities.reduceToJavaToText");
                                    }
                                  });
                                });
                                if (true) {
                                  context.forChildRole("models").run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                                    public void invoke(final IBuilderContext context) {
                                      int i_a1a3a0b = 0;
                                      for (SNode e_a1a3a0b : Sequence.fromIterable(SLinkOperations.collectMany(SLinkOperations.getChildren(SM_ParameterConversion.toMPS(((INode) context.getContextValue())), LINKS.modules$jBPn), LINKS.models$h3QT)).where((it) -> Sequence.fromIterable(SNodeOperations.ofConcept(SLinkOperations.getChildren(it, LINKS.rootNodes$jxXY), CONCEPTS.Entity$dF)).isNotEmpty())) {
                                        context.forContextValue(SM_ParameterConversion.fromMPS(e_a1a3a0b)).withAdditionalIdPrefix("CcZYJH_R_8" + "#" + i_a1a3a0b).run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                                          public void invoke(final IBuilderContext context) {
                                            context.createNode(new TransformationCall("de.q60.mps.shadowmodels.examples.entities.transformations.Repository.entitiesToJavaToText_reduce", new ParameterList(ListSequence.fromListAndArray(new ArrayList<Object>(), SM_ParameterConversion.fromMPS(SM_ParameterConversion.toMPS(((INode) context.getContextValue()))))), "r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/3676835399135260055"));
                                          }
                                        });
                                        i_a1a3a0b++;
                                      }
                                    }
                                  });
                                }
                              }
                            });
                          }
                        });
                      }
                    }
                  });
                }
              });
            });
          }
        };
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
    myImplementations.put("de.q60.mps.shadowmodels.examples.entities.transformations.Repository.entitiesModelToFiles", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromListAndArray(new ArrayList<IParameterType>(), new ParameterType_INode(SConceptAdapter.wrap(CONCEPTS.Model$2P)));
      private List<String> contextIds = ListSequence.fromList(new ArrayList<String>());
      private List<String> groupIds = ListSequence.fromList(new ArrayList<String>());
      @Override
      public String getId() {
        return "de.q60.mps.shadowmodels.examples.entities.transformations/Repository/entitiesModelToFiles_4";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        if (!(_PFparameters.get(0) == null || _PFparameters.get(0) instanceof INode && ((INode) _PFparameters.get(0)).getConcept().isSubConceptOf(SConceptAdapter.wrap(CONCEPTS.Model$2P)))) {
          return false;
        }
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return new SM_GeneratedTransformationRule(new SNodePointer("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)", "1038241485678228074")) {
          @Override
          public void apply(ContainmentTargetRootNodes<TransformationCall> call, final TransformationResult result) {
            new RootBuilderContext(call, result).run((final IBuilderContext context) -> {
              result.setTraceInfo("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/1038241485678228074");
              context.forChildRole("0").run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                public void invoke(final IBuilderContext context) {
                  context.withParameter(BuilderContextParameter.ID, "9").createNode(new SConceptAdapter(CONCEPTS.Model$2P)).run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                    public void invoke(final IBuilderContext context) {
                      context.getResultElement().setTraceInfo("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/7475940883579759925");
                      final IBuilderContext savedContext_wm5ned_a0a3 = context;
                      context.getResultElement().setProperty("name", () -> {
                        return savedContext_wm5ned_a0a3.compute(new _FunctionTypes._return_P1_E0<String, IBuilderContext>() {
                          public String invoke(final IBuilderContext context) {
                            return SM_ParameterConversion.asString(SPropertyOperations.getString(SM_ParameterConversion.toMPS(((INode) context.getContextValue())), PROPS.name$MnvL) + ".text");
                          }
                        });
                      });
                      if (true) {
                        context.forChildRole("rootNodes").run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                          public void invoke(final IBuilderContext context) {
                            context.withParameter(BuilderContextParameter.ID, "10").createNode(new SConceptAdapter(CONCEPTS.Folder$89)).run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                              public void invoke(final IBuilderContext context) {
                                context.getResultElement().setTraceInfo("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/1038241485678232054");
                                final IBuilderContext savedContext_wm5ned_a0b0a3 = context;
                                context.getResultElement().setProperty("name", () -> {
                                  return savedContext_wm5ned_a0b0a3.compute(new _FunctionTypes._return_P1_E0<String, IBuilderContext>() {
                                    public String invoke(final IBuilderContext context) {
                                      return SM_ParameterConversion.asString("src_gen");
                                    }
                                  });
                                });
                                if (true) {
                                  context.forChildRole("content").run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                                    public void invoke(final IBuilderContext context) {
                                      context.createNode(new TransformationCall("de.q60.mps.shadowmodels.examples.entities.transformations.EntitiesToPlainText.toPlainText", new ParameterList(ListSequence.fromListAndArray(new ArrayList<Object>(), SM_ParameterConversion.fromMPS(SM_ParameterConversion.toMPS(((INode) context.getContextValue()))))), "r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/7475940883581542300"));
                                    }
                                  });
                                }
                                if (true) {
                                  context.forChildRole("content").run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                                    public void invoke(final IBuilderContext context) {
                                      context.withParameter(BuilderContextParameter.ID, "11").createNode(new SConceptAdapter(CONCEPTS.Folder$89)).run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                                        public void invoke(final IBuilderContext context) {
                                          context.getResultElement().setTraceInfo("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/1038241485678229767");
                                          final IBuilderContext savedContext_wm5ned_a0c0b0a3 = context;
                                          context.getResultElement().setProperty("name", () -> {
                                            return savedContext_wm5ned_a0c0b0a3.compute(new _FunctionTypes._return_P1_E0<String, IBuilderContext>() {
                                              public String invoke(final IBuilderContext context) {
                                                return SM_ParameterConversion.asString("java");
                                              }
                                            });
                                          });
                                          if (true) {
                                            context.forChildRole("content").run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                                              public void invoke(final IBuilderContext context) {
                                                int i_a1a2a1a0d = 0;
                                                for (SNode e_a1a2a1a0d : Sequence.fromIterable(SNodeOperations.ofConcept(SLinkOperations.getChildren(SM_ParameterConversion.toMPS(((INode) context.getContextValue())), LINKS.rootNodes$jxXY), CONCEPTS.Entity$dF))) {
                                                  context.forContextValue(SM_ParameterConversion.fromMPS(e_a1a2a1a0d)).withAdditionalIdPrefix("12" + "#" + i_a1a2a1a0d).run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                                                    public void invoke(final IBuilderContext context) {
                                                      context.createNode(new TransformationCall("de.q60.mps.shadowmodels.examples.entities.transformations.JavaToText.javaClassToFile", new ParameterList(ListSequence.fromListAndArray(new ArrayList<Object>(), SM_ParameterConversion.fromMPS(SNodeOperations.cast((((_FunctionTypes._return_P0_E0<SNode>) () -> {
                                                        Iterable<? extends Iterable<INode>> outputNodes = TransformationEngine.getInstance().executeCallExpression(new TransformationCall("de.q60.mps.shadowmodels.examples.entities.transformations.EntitiesToJava.toJava", new ParameterList(ListSequence.fromListAndArray(new ArrayList<Object>(), SM_ParameterConversion.fromMPS(SM_ParameterConversion.toMPS(((INode) context.getContextValue()))))), "r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/1038241485678430719"));
                                                        return SM_ParameterConversion.toMPS(Sequence.fromIterable(Sequence.fromIterable(outputNodes).first()).first());
                                                      }).invoke()), CONCEPTS.ClassConcept$bK)))), "r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/1038241485678232599"));
                                                    }
                                                  });
                                                  i_a1a2a1a0d++;
                                                }
                                              }
                                            });
                                          }
                                        }
                                      });
                                    }
                                  });
                                }
                              }
                            });
                          }
                        });
                      }
                    }
                  });
                }
              });
            });
          }
        };
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
    myImplementations.put("de.q60.mps.shadowmodels.examples.entities.transformations.Repository.entititesModelToJavaModel", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromListAndArray(new ArrayList<IParameterType>(), new ParameterType_INode(SConceptAdapter.wrap(CONCEPTS.Model$2P)));
      private List<String> contextIds = ListSequence.fromList(new ArrayList<String>());
      private List<String> groupIds = ListSequence.fromList(new ArrayList<String>());
      @Override
      public String getId() {
        return "de.q60.mps.shadowmodels.examples.entities.transformations/Repository/entititesModelToJavaModel_7";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        if (!(_PFparameters.get(0) == null || _PFparameters.get(0) instanceof INode && ((INode) _PFparameters.get(0)).getConcept().isSubConceptOf(SConceptAdapter.wrap(CONCEPTS.Model$2P)))) {
          return false;
        }
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return new SM_GeneratedTransformationRule(new SNodePointer("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)", "7475940883581758450")) {
          @Override
          public void apply(ContainmentTargetRootNodes<TransformationCall> call, final TransformationResult result) {
            new RootBuilderContext(call, result).run((final IBuilderContext context) -> {
              result.setTraceInfo("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/7475940883581758450");
              context.forChildRole("0").run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                public void invoke(final IBuilderContext context) {
                  context.withParameter(BuilderContextParameter.ID, "13").createNode(new SConceptAdapter(CONCEPTS.Model$2P)).run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                    public void invoke(final IBuilderContext context) {
                      context.getResultElement().setTraceInfo("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/7475940883581759425");
                      final IBuilderContext savedContext_wm5ned_a0a5 = context;
                      context.getResultElement().setProperty("name", () -> {
                        return savedContext_wm5ned_a0a5.compute(new _FunctionTypes._return_P1_E0<String, IBuilderContext>() {
                          public String invoke(final IBuilderContext context) {
                            return SM_ParameterConversion.asString(SPropertyOperations.getString(SM_ParameterConversion.toMPS(((INode) context.getContextValue())), PROPS.name$MnvL) + ".java");
                          }
                        });
                      });
                      if (true) {
                        context.forChildRole("rootNodes").run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                          public void invoke(final IBuilderContext context) {
                            int i_a1a0f = 0;
                            for (SNode e_a1a0f : Sequence.fromIterable(SNodeOperations.ofConcept(SLinkOperations.getChildren(SM_ParameterConversion.toMPS(((INode) context.getContextValue())), LINKS.rootNodes$jxXY), CONCEPTS.Entity$dF))) {
                              context.forContextValue(SM_ParameterConversion.fromMPS(e_a1a0f)).withAdditionalIdPrefix("14" + "#" + i_a1a0f).run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                                public void invoke(final IBuilderContext context) {
                                  context.createNode(new TransformationCall("de.q60.mps.shadowmodels.examples.entities.transformations.EntitiesToJava.toJava", new ParameterList(ListSequence.fromListAndArray(new ArrayList<Object>(), SM_ParameterConversion.fromMPS(SM_ParameterConversion.toMPS(((INode) context.getContextValue()))))), "r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/7475940883581613809"));
                                }
                              });
                              i_a1a0f++;
                            }
                          }
                        });
                      }
                    }
                  });
                }
              });
            });
          }
        };
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
    myImplementations.put("de.q60.mps.shadowmodels.examples.entities.transformations.Repository.entitiesToJava_reduce", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromListAndArray(new ArrayList<IParameterType>(), new ParameterType_INode(SConceptAdapter.wrap(CONCEPTS.BaseConcept$gP)));
      private List<String> contextIds = ListSequence.fromList(new ArrayList<String>());
      private List<String> groupIds = ListSequence.fromList(new ArrayList<String>());
      @Override
      public String getId() {
        return "de.q60.mps.shadowmodels.examples.entities.transformations/Repository/entitiesToJava_reduce_10";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        if (!(_PFparameters.get(0) == null || _PFparameters.get(0) instanceof INode && ((INode) _PFparameters.get(0)).getConcept().isSubConceptOf(SConceptAdapter.wrap(CONCEPTS.BaseConcept$gP)))) {
          return false;
        }
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return new SM_GeneratedTransformationRule(new SNodePointer("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)", "1109773557182659393")) {
          @Override
          public void apply(ContainmentTargetRootNodes<TransformationCall> call, final TransformationResult result) {
            new RootBuilderContext(call, result).run((final IBuilderContext context) -> {
              result.setTraceInfo("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/1109773557182659393");
              context.forChildRole("0").run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                public void invoke(final IBuilderContext context) {
                  context.createNode(((GoalCall) _PFcontext.callFunction("de.q60.mps.shadowmodels.examples.entities.transformations.EntitiesToJava_reduce.entitiesToJava", new ParameterList(new Object[]{SM_ParameterConversion.fromMPS(SM_ParameterConversion.toMPS(((INode) context.getContextValue())))}))).setTraceInfo("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/1109773557182660533"));
                }
              });
            });
          }
        };
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
    myImplementations.put("de.q60.mps.shadowmodels.examples.entities.transformations.Repository.entitiesToJavaToText_reduce", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromListAndArray(new ArrayList<IParameterType>(), new ParameterType_INode(SConceptAdapter.wrap(CONCEPTS.BaseConcept$gP)));
      private List<String> contextIds = ListSequence.fromList(new ArrayList<String>());
      private List<String> groupIds = ListSequence.fromList(new ArrayList<String>());
      @Override
      public String getId() {
        return "de.q60.mps.shadowmodels.examples.entities.transformations/Repository/entitiesToJavaToText_reduce_13";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        if (!(_PFparameters.get(0) == null || _PFparameters.get(0) instanceof INode && ((INode) _PFparameters.get(0)).getConcept().isSubConceptOf(SConceptAdapter.wrap(CONCEPTS.BaseConcept$gP)))) {
          return false;
        }
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return new SM_GeneratedTransformationRule(new SNodePointer("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)", "3676835399134582442")) {
          @Override
          public void apply(ContainmentTargetRootNodes<TransformationCall> call, final TransformationResult result) {
            new RootBuilderContext(call, result).run((final IBuilderContext context) -> {
              result.setTraceInfo("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/3676835399134582442");
              context.forChildRole("0").run(new _FunctionTypes._void_P1_E0<IBuilderContext>() {
                public void invoke(final IBuilderContext context) {
                  context.createNode(((GoalCall) _PFcontext.callFunction("de.q60.mps.shadowmodels.examples.entities.transformations.Repository.entitiesToJavaToText", new ParameterList(new Object[]{SM_ParameterConversion.fromMPS(SM_ParameterConversion.toMPS(((INode) context.getContextValue())))}))).setTraceInfo("r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/3676835399134582444"));
                }
              });
            });
          }
        };
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
    myImplementations.put("de.q60.mps.shadowmodels.examples.entities.transformations.Repository.entitiesToJavaToText", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromListAndArray(new ArrayList<IParameterType>(), new ParameterType_Classifier(INode.class));
      private List<String> contextIds = ListSequence.fromList(new ArrayList<String>());
      private List<String> groupIds = ListSequence.fromList(new ArrayList<String>());
      @Override
      public String getId() {
        return "de.q60.mps.shadowmodels.examples.entities.transformations/Repository/entitiesToJavaToText_15";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        if (!(_PFparameters.get(0) == null || _PFparameters.get(0) instanceof INode)) {
          return false;
        }
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return new GoalCall("de.q60.mps.shadowmodels.examples.entities.transformations.Repository.entitiesToJavaToText", ((INode) _PFparameters.get(0)), "r:37e85211-427f-482e-b697-cf3275c6d596(de.q60.mps.shadowmodels.examples.entities.transformations)/3676835399133999989");
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
    myImplementations.put("de.q60.mps.shadowmodels.examples.entities.transformations.Repository.entitiesToJavaToText/mc", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromList(new ArrayList<IParameterType>());
      private List<String> contextIds = ListSequence.fromList(new ArrayList<String>());
      private List<String> groupIds = ListSequence.fromList(new ArrayList<String>());
      @Override
      public String getId() {
        return "de.q60.mps.shadowmodels.examples.entities.transformations/Repository/entitiesToJavaToText/mc_18";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return Sequence.fromIterable(((Iterable<? extends Iterable<MappingConfiguration>>) ((Object) _PFcontext.callFunctions("de.q60.mps.shadowmodels.examples.entities.transformations.EntitiesToJava_reduce.entitiesToJava/mc", new ParameterList(new Object[]{}))))).translate((it) -> it);
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
    myImplementations.put("de.q60.mps.shadowmodels.examples.entities.transformations.Repository.entitiesToJavaToText/rules", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromList(new ArrayList<IParameterType>());
      private List<String> contextIds = ListSequence.fromList(new ArrayList<String>());
      private List<String> groupIds = ListSequence.fromList(new ArrayList<String>());
      @Override
      public String getId() {
        return "de.q60.mps.shadowmodels.examples.entities.transformations/Repository/entitiesToJavaToText/rules_19";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return ((Iterable<GenplanRule>) ((Object) _PFcontext.callFunctions("de.q60.mps.shadowmodels.examples.entities.transformations.EntitiesToJava_reduce.entitiesToJava/rules", new ParameterList(new Object[]{}))));
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
    myImplementations.put("de.q60.mps.shadowmodels.examples.entities.transformations.Repository.entitiesToJavaToText/mc", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromList(new ArrayList<IParameterType>());
      private List<String> contextIds = ListSequence.fromList(new ArrayList<String>());
      private List<String> groupIds = ListSequence.fromList(new ArrayList<String>());
      @Override
      public String getId() {
        return "de.q60.mps.shadowmodels.examples.entities.transformations/Repository/entitiesToJavaToText/mc_20";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return Sequence.fromIterable(((Iterable<? extends Iterable<MappingConfiguration>>) ((Object) _PFcontext.callFunctions("de.q60.mps.shadowmodels.examples.entities.transformations.JavaToText_reduce.javaToText/mc", new ParameterList(new Object[]{}))))).translate((it) -> it);
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
    myImplementations.put("de.q60.mps.shadowmodels.examples.entities.transformations.Repository.entitiesToJavaToText/rules", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromList(new ArrayList<IParameterType>());
      private List<String> contextIds = ListSequence.fromList(new ArrayList<String>());
      private List<String> groupIds = ListSequence.fromList(new ArrayList<String>());
      @Override
      public String getId() {
        return "de.q60.mps.shadowmodels.examples.entities.transformations/Repository/entitiesToJavaToText/rules_21";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return ((Iterable<GenplanRule>) ((Object) _PFcontext.callFunctions("de.q60.mps.shadowmodels.examples.entities.transformations.JavaToText_reduce.javaToText/rules", new ParameterList(new Object[]{}))));
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
    myImplementations.put("de.q60.mps.shadowmodels.examples.entities.transformations.Repository.entitiesToJavaToText/rules", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromList(new ArrayList<IParameterType>());
      private List<String> contextIds = ListSequence.fromList(new ArrayList<String>());
      private List<String> groupIds = ListSequence.fromList(new ArrayList<String>());
      @Override
      public String getId() {
        return "de.q60.mps.shadowmodels.examples.entities.transformations/Repository/entitiesToJavaToText/rules_22";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return new GenplanRule_Before(ListSequence.fromList(ListSequence.fromListAndArray(new ArrayList<Iterable<MappingConfigurationId>>(), Sequence.fromIterable(((Iterable<? extends Iterable<MappingConfiguration>>) ((Object) _PFcontext.callFunctions("de.q60.mps.shadowmodels.examples.entities.transformations.EntitiesToJava_reduce.entitiesToJava/mc", new ParameterList(new Object[]{}))))).translate((it) -> it).select((it) -> it.getId()))).translate((it) -> it), ListSequence.fromList(ListSequence.fromListAndArray(new ArrayList<Iterable<MappingConfigurationId>>(), Sequence.fromIterable(((Iterable<? extends Iterable<MappingConfiguration>>) ((Object) _PFcontext.callFunctions("de.q60.mps.shadowmodels.examples.entities.transformations.JavaToText_reduce.javaToText/mc", new ParameterList(new Object[]{}))))).translate((it) -> it).select((it) -> it.getId()))).translate((it) -> it));
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept Repository$db = MetaAdapterFactory.getConcept(0xa7577d1d4e5431dL, 0x98b1fae38f9aee80L, 0x69652614fd1c516L, "org.modelix.model.repositoryconcepts.structure.Repository");
    /*package*/ static final SConcept Module$4i = MetaAdapterFactory.getConcept(0xa7577d1d4e5431dL, 0x98b1fae38f9aee80L, 0x69652614fd1c50fL, "org.modelix.model.repositoryconcepts.structure.Module");
    /*package*/ static final SConcept Entity$dF = MetaAdapterFactory.getConcept(0xca32b5facaea4f97L, 0x96866f60d4d677d4L, 0xe68932160e17dceL, "de.q60.mps.shadowmodels.examples.entities.structure.Entity");
    /*package*/ static final SConcept Model$2P = MetaAdapterFactory.getConcept(0xa7577d1d4e5431dL, 0x98b1fae38f9aee80L, 0x69652614fd1c50cL, "org.modelix.model.repositoryconcepts.structure.Model");
    /*package*/ static final SConcept Folder$89 = MetaAdapterFactory.getConcept(0xa7322769ef644daaL, 0xa2f4fd4228fb713eL, 0xe68932160df9591L, "de.q60.mps.shadowmodels.target.text.structure.Folder");
    /*package*/ static final SConcept ClassConcept$bK = MetaAdapterFactory.getConcept(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0xf8c108ca66L, "jetbrains.mps.baseLanguage.structure.ClassConcept");
    /*package*/ static final SConcept BaseConcept$gP = MetaAdapterFactory.getConcept(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x10802efe25aL, "jetbrains.mps.lang.core.structure.BaseConcept");
  }

  private static final class LINKS {
    /*package*/ static final SContainmentLink modules$jBPn = MetaAdapterFactory.getContainmentLink(0xa7577d1d4e5431dL, 0x98b1fae38f9aee80L, 0x69652614fd1c516L, 0x69652614fd1c517L, "modules");
    /*package*/ static final SContainmentLink models$h3QT = MetaAdapterFactory.getContainmentLink(0xa7577d1d4e5431dL, 0x98b1fae38f9aee80L, 0x69652614fd1c50fL, 0x69652614fd1c512L, "models");
    /*package*/ static final SContainmentLink rootNodes$jxXY = MetaAdapterFactory.getContainmentLink(0xa7577d1d4e5431dL, 0x98b1fae38f9aee80L, 0x69652614fd1c50cL, 0x69652614fd1c514L, "rootNodes");
  }

  private static final class PROPS {
    /*package*/ static final SProperty name$MnvL = MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x110396eaaa4L, 0x110396ec041L, "name");
  }
}

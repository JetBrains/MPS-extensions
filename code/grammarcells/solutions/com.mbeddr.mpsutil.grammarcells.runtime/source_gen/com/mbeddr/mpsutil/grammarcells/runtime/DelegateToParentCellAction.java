package com.mbeddr.mpsutil.grammarcells.runtime;

/*Generated by MPS */

import jetbrains.mps.openapi.editor.cells.CellAction;
import jetbrains.mps.openapi.editor.cells.EditorCell;
import jetbrains.mps.openapi.editor.cells.CellActionType;
import jetbrains.mps.openapi.editor.EditorContext;

public class DelegateToParentCellAction implements CellAction {

  private EditorCell myCell;
  private CellActionType myType;

  public DelegateToParentCellAction(EditorCell cell, CellActionType type) {
    myCell = cell;
    myType = type;
  }

  public boolean canExecute(EditorContext context) {
    CellAction action = getParentCellAction();
    return (action == null ? false : action.canExecute(context));
  }
  public void execute(EditorContext context) {
    CellAction action = getParentCellAction();
    if (action != null) {
      action.execute(context);
    }
  }
  public boolean executeInCommand() {
    CellAction action = getParentCellAction();
    return (action == null ? false : action.executeInCommand());
  }
  public String getDescriptionText() {
    CellAction action = getParentCellAction();
    return (action == null ? "" : action.getDescriptionText());
  }

  protected CellAction getParentCellAction() {
    for (EditorCell current = myCell.getParent(); current != null; current = current.getParent()) {
      CellAction action = current.getAction(myType);
      if (action != null) {
        return action;
      }
    }
    return null;
  }
}

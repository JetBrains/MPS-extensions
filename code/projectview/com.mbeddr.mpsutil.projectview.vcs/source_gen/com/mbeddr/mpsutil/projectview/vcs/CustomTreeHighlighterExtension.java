package com.mbeddr.mpsutil.projectview.vcs;

/*Generated by MPS */

import jetbrains.mps.ide.ui.tree.TreeHighlighterExtension;
import com.intellij.openapi.project.Project;
import jetbrains.mps.ide.ui.tree.MPSTree;
import com.mbeddr.mpsutil.projectview.runtime.tree.CustomProjectTree;
import com.intellij.openapi.extensions.Extensions;

public class CustomTreeHighlighterExtension extends TreeHighlighterExtension {

  private Project myProject;
  private CustomTreeHighlighterFactory myHighlighterFactory;

  public CustomTreeHighlighterExtension(Project project) {
    myProject = project;
    myHighlighterFactory = new CustomTreeHighlighterFactory(project);
  }

  protected void attach(MPSTree tree) {
    if (tree instanceof CustomProjectTree) {
      myHighlighterFactory.highlightTreeIfNeeded(((CustomProjectTree) tree));
    }
  }

  public void register() {
    Extensions.getArea(myProject).getExtensionPoint(EP_NAME).registerExtension(this);
  }

  public void unregister() {
    Extensions.getArea(myProject).getExtensionPoint(EP_NAME).unregisterExtension(this);
  }

}

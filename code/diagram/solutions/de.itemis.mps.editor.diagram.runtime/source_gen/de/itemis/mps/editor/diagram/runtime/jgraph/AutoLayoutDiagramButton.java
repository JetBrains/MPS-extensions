package de.itemis.mps.editor.diagram.runtime.jgraph;

/*Generated by MPS */

import com.mxgraph.view.mxCellState;
import java.awt.Graphics2D;
import de.itemis.mps.editor.diagram.runtime.model.Bounds;
import java.awt.geom.GeneralPath;

public class AutoLayoutDiagramButton extends ContextButton {
  public AutoLayoutDiagramButton(double size, mxCellState state) {
    super(size, state);
  }

  @Override
  protected void paintSymbol(Graphics2D g) {
    Bounds bounds = getBounds();
    Bounds box1 = getBounds();
    box1.setWidth(getLineWidth() * 4.0);
    box1.setHeight(getLineWidth() * 3.0);
    box1.setX(box1.getX() + getLineWidth() * 2.0);
    box1.setY(box1.getY() + getLineWidth() * 2.0);
    g.fill(ExtensionMethods.toRectangle2D(box1));

    Bounds box2 = getBounds();
    box2.setWidth(getLineWidth() * 4.0);
    box2.setHeight(getLineWidth() * 3.0);
    box2.setRightBottom(bounds.getRightBottom().moveX(getLineWidth() * -1.0).moveY(getLineWidth() * -1.0));
    g.fill(ExtensionMethods.toRectangle2D(box2));

    GeneralPath edge = new GeneralPath();
    edge.moveTo(box1.getX() + getLineWidth(), box1.getMaxY());
    edge.lineTo(box1.getX() + getLineWidth(), box2.getCenterY());
    edge.lineTo(box2.getX(), box2.getCenterY());
    g.draw(edge);
  }

  @Override
  public String getTooltip() {
    return "Auto Layout Diagram";
  }

  @Override
  protected void execute() {
    DiagramActionsUtil.autoLayout((BaseDiagramDCell) myCellState.getCell());
  }
}

package de.itemis.mps.editor.math.symbols;

/*Generated by MPS */

import de.itemis.mps.editor.math.runtime.AbstractMathSymbol;
import java.awt.Graphics2D;
import java.awt.geom.Rectangle2D;
import java.awt.BasicStroke;
import java.awt.geom.Path2D;
import java.awt.geom.Line2D;
import java.awt.geom.AffineTransform;
import de.itemis.mps.editor.math.runtime.Dimension2DDouble;
import jetbrains.mps.openapi.editor.TextBuilder;
import jetbrains.mps.editor.runtime.TextBuilderImpl;

public class UglySumSymbol extends AbstractMathSymbol {

  public UglySumSymbol() {
  }

  protected void paint(Graphics2D g, Rectangle2D bounds) {
    Graphics2D g2 = (Graphics2D) g.create();
    double lineHalfWidth = 0.075;

    BasicStroke thinStroke = new BasicStroke((float) (bounds.getWidth() * lineHalfWidth * 1.6), BasicStroke.CAP_BUTT, BasicStroke.JOIN_ROUND);
    BasicStroke thickStroke = new BasicStroke((float) (bounds.getWidth() * lineHalfWidth * 3.0), BasicStroke.CAP_BUTT, BasicStroke.JOIN_ROUND);

    Path2D.Double thinPath = new Path2D.Double();
    thinPath.append(new Line2D.Double(1.0, lineHalfWidth, lineHalfWidth, lineHalfWidth), false);
    thinPath.append(new Line2D.Double(lineHalfWidth, lineHalfWidth, 0.75, 0.5), true);
    thinPath.append(new Line2D.Double(0.75, 0.5, lineHalfWidth, 1.0 - lineHalfWidth), true);
    thinPath.append(new Line2D.Double(lineHalfWidth, 1.0 - lineHalfWidth, 1.0, 1.0 - lineHalfWidth), true);

    Path2D.Double thickPath = new Path2D.Double();
    thickPath.append(new Line2D.Double(lineHalfWidth, lineHalfWidth, 0.75, 0.5), false);
    thickPath.append(new Line2D.Double(lineHalfWidth, 1.0 - lineHalfWidth, 1.0, 1.0 - lineHalfWidth), false);


    AffineTransform transform = AffineTransform.getTranslateInstance(bounds.getX(), bounds.getY());
    transform.scale(bounds.getWidth(), bounds.getHeight());

    g2.setStroke(thinStroke);
    g2.draw(thinPath.createTransformedShape(transform));
    g2.setStroke(thickStroke);
    g2.draw(thickPath.createTransformedShape(transform));

    g2.dispose();
  }
  protected void updateDimension(Dimension2DDouble dimension) {
  }

  @Override
  public TextBuilder renderText() {
    Rectangle2D bounds = getBounds();
    return new TextBuilderImpl("sum");
  }
}

package de.q60.mps.shadowmodels.runtime.smodel;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SModel;
import jetbrains.mps.smodel.SModelInternal;
import de.q60.mps.shadowmodels.runtime.util.UserObjectKey;
import java.util.concurrent.atomic.AtomicInteger;
import org.jetbrains.mps.openapi.model.SModelId;
import org.jetbrains.mps.openapi.model.SModelReference;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.mps.openapi.model.SModelName;
import org.jetbrains.mps.openapi.module.SModuleReference;
import org.jetbrains.mps.openapi.module.SRepository;
import de.q60.mps.shadowmodels.runtime.engine.ITransformationEngine;
import java.lang.ref.WeakReference;
import java.util.Set;
import org.jetbrains.mps.openapi.language.SLanguage;
import jetbrains.mps.internal.collections.runtime.SetSequence;
import java.util.HashSet;
import org.jetbrains.mps.openapi.persistence.ModelRoot;
import org.jetbrains.mps.openapi.module.SModule;
import org.jetbrains.mps.openapi.model.SNode;
import org.jetbrains.mps.openapi.language.SConcept;
import org.jetbrains.annotations.Nullable;
import org.jetbrains.mps.openapi.model.SNodeId;
import org.jetbrains.mps.openapi.persistence.DataSource;
import java.util.Collections;
import org.jetbrains.mps.openapi.model.SModelListener;
import org.jetbrains.mps.openapi.model.SNodeAccessListener;
import org.jetbrains.mps.openapi.model.SNodeChangeListener;
import java.util.Collection;
import java.util.List;

@Deprecated
public class SM_DummySModel implements SModel, SModelInternal {
  private static final UserObjectKey<SM_DummySModel> INSTANCE_KEY = new UserObjectKey<SM_DummySModel>(SM_DummySModel.class.getName());
  private static final AtomicInteger ID_SEQUENCE = new AtomicInteger();

  private int id = ID_SEQUENCE.incrementAndGet();
  private String name = "shadowmodels.dummy.model" + id;
  private SModelId modelId = new SModelId() {
    public String getType() {
      return "shadowmodels.dummy.model";
    }
    public boolean isGloballyUnique() {
      return false;
    }
    public String getModelName() {
      return name;
    }
  };
  private SModelReference modelReference = new SModelReference() {
    @NotNull
    public SModelId getModelId() {
      return modelId;
    }
    @NotNull
    public String getModelName() {
      return name;
    }
    @NotNull
    public SModelName getName() {
      return new SModelName(getModelName());
    }
    public SModuleReference getModuleReference() {
      return getModule().getModuleReference();
    }
    public SModel resolve(SRepository p0) {
      return SM_DummySModel.this;
    }
  };

  public static SM_DummySModel getInstance(ITransformationEngine engine, SRepository repository) {
    SM_DummySModel instance = engine.getUserObject(INSTANCE_KEY);
    if (instance == null) {
      instance = new SM_DummySModel(engine);
      engine.putUserObject(INSTANCE_KEY, instance);
    }
    if (instance.repository == null && repository != null) {
      instance.repository = new WeakReference<SRepository>(repository);
    }
    return instance;
  }

  private ITransformationEngine engine;
  private WeakReference<SRepository> repository;
  private Set<SLanguage> importedLanguages = SetSequence.fromSet(new HashSet<SLanguage>());

  @Deprecated
  public SM_DummySModel(ITransformationEngine engine) {
    this.engine = engine;
  }
  @Override
  public SRepository getRepository() {
    return (repository == null ? null : repository.get());
  }
  @NotNull
  @Override
  public SModelId getModelId() {
    return modelId;
  }
  @Deprecated
  @Override
  public String getModelName() {
    return name;
  }
  @NotNull
  @Override
  public SModelName getName() {
    return new SModelName(getModelName());
  }
  @NotNull
  @Override
  public SModelReference getReference() {
    return modelReference;
  }
  @Override
  public ModelRoot getModelRoot() {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public SModule getModule() {
    return SM_DummySModule.getInstance(getRepository());
  }
  @Override
  public Iterable<SNode> getRootNodes() {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public SNode createNode(@NotNull SConcept concept) {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public SNode createNode(@NotNull SConcept concept, @Nullable SNodeId id) {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public void addRootNode(SNode node) {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public void removeRootNode(SNode node) {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public SNode getNode(SNodeId id) {
    if (id instanceof SNode) {
      return ((SNode) id);
    }
    throw new RuntimeException("Cannot resolve node: " + id);
  }
  @NotNull
  @Override
  public DataSource getSource() {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public boolean isReadOnly() {
    return true;
  }
  @Override
  public boolean isLoaded() {
    return true;
  }
  @Override
  public void load() {
  }
  @NotNull
  @Override
  public Iterable<SModel.Problem> getProblems() {
    return Collections.<SModel.Problem>emptyList();
  }
  @Override
  public void unload() {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public void addModelListener(SModelListener listener) {
    if (engine != null) {
      SM_EventDispatcher.getInstance(engine, check_xwxpi4_b0a0a0a43(repository)).addModelListener(listener);
    }
  }
  @Override
  public void removeModelListener(SModelListener listener) {
    if (engine != null) {
      SM_EventDispatcher.getInstance(engine, check_xwxpi4_b0a0a0a53(repository)).removeModelListener(listener);
    }
  }
  @Override
  public void addAccessListener(SNodeAccessListener listener) {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public void removeAccessListener(SNodeAccessListener listener) {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public void addChangeListener(SNodeChangeListener listener) {
  }
  @Override
  public void removeChangeListener(SNodeChangeListener listener) {
  }
  @Override
  public void addModelListener(@NotNull jetbrains.mps.smodel.event.SModelListener listener) {
    if (engine != null) {
      SM_EventDispatcher.getInstance(engine, check_xwxpi4_b0a0a0a04(repository)).addModelListener(listener);
    }
  }
  @Override
  public void removeModelListener(@NotNull jetbrains.mps.smodel.event.SModelListener listener) {
    if (engine != null) {
      SM_EventDispatcher.getInstance(engine, check_xwxpi4_b0a0a0a14(repository)).removeModelListener(listener);
    }
  }
  @Override
  public Collection<SLanguage> importedLanguageIds() {
    return importedLanguages;
  }
  @Override
  public void deleteLanguageId(@NotNull SLanguage language) {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public void addLanguage(@NotNull SLanguage language) {
    SetSequence.fromSet(importedLanguages).addElement(language);
  }
  @Override
  public void setLanguageImportVersion(@NotNull SLanguage language, int i) {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public int getLanguageImportVersion(SLanguage language) {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public List<SModuleReference> importedDevkits() {
    return Collections.<SModuleReference>emptyList();
  }
  @Override
  public void addDevKit(SModuleReference reference) {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public void deleteDevKit(@NotNull SModuleReference reference) {
    throw new UnsupportedOperationException("Not implemented");
  }
  @NotNull
  @Override
  public Collection<SModelReference> getModelImports() {
    return Collections.<SModelReference>emptyList();
  }
  @Override
  public void addModelImport(@NotNull SModelReference reference) {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public void deleteModelImport(SModelReference reference) {
    throw new UnsupportedOperationException("Not implemented");
  }
  @NotNull
  @Override
  public Collection<SLanguage> getLanguagesEngagedOnGeneration() {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public void addEngagedOnGenerationLanguage(SLanguage language) {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public void removeEngagedOnGenerationLanguage(SLanguage language) {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public void changeModelReference(SModelReference reference) {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public boolean isDisposed() {
    throw new UnsupportedOperationException("Not implemented");
  }
  @Override
  public StackTraceElement[] getDisposedStacktrace() {
    throw new UnsupportedOperationException("Not implemented");
  }
  private static SRepository check_xwxpi4_b0a0a0a43(WeakReference<SRepository> checkedDotOperand) {
    if (null != checkedDotOperand) {
      return checkedDotOperand.get();
    }
    return null;
  }
  private static SRepository check_xwxpi4_b0a0a0a53(WeakReference<SRepository> checkedDotOperand) {
    if (null != checkedDotOperand) {
      return checkedDotOperand.get();
    }
    return null;
  }
  private static SRepository check_xwxpi4_b0a0a0a04(WeakReference<SRepository> checkedDotOperand) {
    if (null != checkedDotOperand) {
      return checkedDotOperand.get();
    }
    return null;
  }
  private static SRepository check_xwxpi4_b0a0a0a14(WeakReference<SRepository> checkedDotOperand) {
    if (null != checkedDotOperand) {
      return checkedDotOperand.get();
    }
    return null;
  }
}

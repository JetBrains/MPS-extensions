package de.itemis.mps.editor.diagram.runtime.jgraph;

/*Generated by MPS */

import de.itemis.mps.tooltips.runtime.ITooltip;
import com.mxgraph.view.mxCellState;
import java.awt.Point;
import de.itemis.mps.editor.diagram.runtime.model.ExtensionMethods;
import org.jetbrains.annotations.Nullable;
import jetbrains.mps.openapi.editor.cells.EditorCell;

public class PortTooltip implements ITooltip {

  private RootDiagramECell myDiagramECell;
  private PortDCell myPortDCell;

  public PortTooltip(RootDiagramECell myDiagramECell1, PortDCell myPortDCell1) {
    myDiagramECell = myDiagramECell1;
    myPortDCell = myPortDCell1;
  }

  private mxCellState getPortState() {
    return myDiagramECell.getGraph().getView().getState(myPortDCell);
  }

  @Override
  public Point getCenter() {
    mxCellState portState = getPortState();

    int x = myDiagramECell.getX() + ExtensionMethods.toInt(portState.getCenterX());
    int y = myDiagramECell.getY() + ExtensionMethods.toInt(portState.getCenterY());
    return new Point(x, y);
  }


  @Override
  public int getHeight() {
    return ExtensionMethods.toInt(getPortState().getHeight());
  }

  @Nullable
  @Override
  public EditorCell getTooltipCell() {
    return myPortDCell.getPort().getTooltipCell();
  }

  @Override
  public void setMarkOpacity(float opacity) {
  }

}

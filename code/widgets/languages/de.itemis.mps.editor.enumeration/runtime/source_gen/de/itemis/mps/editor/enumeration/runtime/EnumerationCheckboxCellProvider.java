package de.itemis.mps.editor.enumeration.runtime;

/*Generated by MPS */

import jetbrains.mps.lang.editor.cellProviders.PropertyCellProvider;
import org.jetbrains.mps.openapi.model.SNode;
import org.jetbrains.mps.openapi.language.SProperty;
import jetbrains.mps.openapi.editor.EditorContext;
import jetbrains.mps.openapi.editor.cells.EditorCell;
import jetbrains.mps.nodeEditor.cells.PropertyAccessor;
import jetbrains.mps.openapi.editor.cells.CellActionType;
import jetbrains.mps.editor.runtime.impl.cellActions.CellAction_DeleteSPropertyOrNode;
import jetbrains.mps.editor.runtime.impl.cellActions.CellAction_DeleteEasily;

public class EnumerationCheckboxCellProvider extends PropertyCellProvider {


  public EnumerationCheckboxCellProvider(SNode node, SProperty property, EditorContext editorContext) {
    super(node, property, editorContext);
  }

  @Override
  public EditorCell createEditorCell(EditorContext context) {
    myReadOnly |= getSNode().getModel() == null;

    PropertyAccessor propertyAccessor = new PropertyAccessor(getSNode(), getProperty(), myReadOnly, myAllowsEmptyTarget, context);
    EditorCell_EnumerationCheckbox editorCell = EditorCell_EnumerationCheckbox.create(context, propertyAccessor, getSNode());
    if (!(myReadOnly)) {
      editorCell.setAction(CellActionType.DELETE, new CellAction_DeleteSPropertyOrNode(getSNode(), getProperty()));
    } else {
      editorCell.setAction(CellActionType.DELETE, new CellAction_DeleteEasily(getSNode()));
    }
    return editorCell;
  }


}

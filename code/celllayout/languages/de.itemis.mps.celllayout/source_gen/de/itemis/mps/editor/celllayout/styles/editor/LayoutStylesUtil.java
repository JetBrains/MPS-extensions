package de.itemis.mps.editor.celllayout.styles.editor;

/*Generated by MPS */

import jetbrains.mps.openapi.editor.style.StyleAttribute;
import java.awt.Color;
import jetbrains.mps.editor.runtime.style.StyleAttributes;
import jetbrains.mps.openapi.editor.cells.EditorCell;
import jetbrains.mps.openapi.editor.style.Style;

public class LayoutStylesUtil {
  private static final StyleAttribute<Color> BORDER_LEFT_COLOR = StyleAttributes.getInstance().<Color>getAttribute("de.itemis.mps.editor.celllayout.styles", "_border-left-color");
  private static final StyleAttribute<Color> BORDER_RIGHT_COLOR = StyleAttributes.getInstance().<Color>getAttribute("de.itemis.mps.editor.celllayout.styles", "_border-right-color");
  private static final StyleAttribute<Color> BORDER_TOP_COLOR = StyleAttributes.getInstance().<Color>getAttribute("de.itemis.mps.editor.celllayout.styles", "_border-top-color");
  private static final StyleAttribute<Color> BORDER_BOTTOM_COLOR = StyleAttributes.getInstance().<Color>getAttribute("de.itemis.mps.editor.celllayout.styles", "_border-bottom-color");
  private static final StyleAttribute<Color> BORDER_COLOR = StyleAttributes.getInstance().<Color>getAttribute("de.itemis.mps.editor.celllayout.styles", "_border-color");
  private static final StyleAttribute<Integer> BORDER_LEFT_SIZE = StyleAttributes.getInstance().<Integer>getAttribute("de.itemis.mps.editor.celllayout.styles", "_border-left-size");
  private static final StyleAttribute<Integer> BORDER_RIGHT_SIZE = StyleAttributes.getInstance().<Integer>getAttribute("de.itemis.mps.editor.celllayout.styles", "_border-right-size");
  private static final StyleAttribute<Integer> BORDER_TOP_SIZE = StyleAttributes.getInstance().<Integer>getAttribute("de.itemis.mps.editor.celllayout.styles", "_border-top-size");
  private static final StyleAttribute<Integer> BORDER_BOTTOM_SIZE = StyleAttributes.getInstance().<Integer>getAttribute("de.itemis.mps.editor.celllayout.styles", "_border-bottom-size");
  private static final StyleAttribute<Integer> BORDER_SIZE = StyleAttributes.getInstance().<Integer>getAttribute("de.itemis.mps.editor.celllayout.styles", "_border-size");

  public static Color getLeftBorderColor(EditorCell cell) {
    return getBorderColor(cell, BORDER_LEFT_COLOR);
  }

  public static Color getRightBorderColor(EditorCell cell) {
    return getBorderColor(cell, BORDER_RIGHT_COLOR);
  }

  public static Color getTopBorderColor(EditorCell cell) {
    return getBorderColor(cell, BORDER_TOP_COLOR);
  }

  public static Color getBottomBorderColor(EditorCell cell) {
    return getBorderColor(cell, BORDER_BOTTOM_COLOR);
  }

  public static Color getBorderColor(EditorCell cell, StyleAttribute<Color> side) {
    return getFirstSpecifiedStyle(cell, side, BORDER_COLOR);
  }

  public static Integer getLeftBorderSize(EditorCell cell) {
    return getBorderSize(cell, BORDER_LEFT_SIZE);
  }

  public static Integer getRightBorderSize(EditorCell cell) {
    return getBorderSize(cell, BORDER_RIGHT_SIZE);
  }

  public static Integer getTopBorderSize(EditorCell cell) {
    return getBorderSize(cell, BORDER_TOP_SIZE);
  }

  public static Integer getBottomBorderSize(EditorCell cell) {
    return getBorderSize(cell, BORDER_BOTTOM_SIZE);
  }

  public static Integer getBorderSize(EditorCell cell, StyleAttribute<Integer> side) {
    Integer size = getFirstSpecifiedStyle(cell, side, BORDER_SIZE);
    if (size == null || size == 0) {
      if (cell.getStyle().get(StyleAttributes.DRAW_BORDER)) {
        return 1;
      }
    }
    return size;
  }

  public static <T> T getFirstSpecifiedStyle(EditorCell cell, StyleAttribute<T>... attributes) {
    Style style = cell.getStyle();
    for (StyleAttribute<T> attribute : attributes) {
      if (attribute.getIndex() == -1) {
        continue;
      }
      if (style.isSpecified(attribute)) {
        return style.get(attribute);
      }
    }
    return style.get(attributes[attributes.length - 1]);
  }
}

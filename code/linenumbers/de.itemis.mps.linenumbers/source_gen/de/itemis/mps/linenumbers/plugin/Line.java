package de.itemis.mps.linenumbers.plugin;

/*Generated by MPS */

import jetbrains.mps.openapi.editor.cells.EditorCell;
import jetbrains.mps.internal.collections.runtime.Sequence;
import org.jetbrains.annotations.Nullable;

public class Line extends AbstractLineList implements ILineList {
  private int number = 0;
  private EditorCell firstCell;

  public Line(EditorCell firstCell) {
    this.firstCell = firstCell;
  }

  public EditorCell getCell() {
    return firstCell;
  }

  public int getNumber() {
    return number;
  }

  @Override
  public Iterable<Line> getLines() {
    return Sequence.<Line>singleton(this);
  }

  @Override
  public int getMaxY() {
    return firstCell.getY() + firstCell.getHeight();
  }

  @Override
  public int getMinY() {
    return firstCell.getY();
  }

  @Nullable
  @Override
  public ILineList linesBelowY(int y) {
    return (getMinY() >= y ? this : null);
  }

  @Override
  public int getSize() {
    return 1;
  }

  @Override
  public void assignLineNumber(int lineNumber) {
    this.number = lineNumber;
  }

  @Override
  public Line getLast() {
    return this;
  }

  @Override
  public ILineList merge(ILineList other) {
    if (other instanceof Line && overlaps(other)) {
      return this;
    }
    return super.merge(other);
  }
}

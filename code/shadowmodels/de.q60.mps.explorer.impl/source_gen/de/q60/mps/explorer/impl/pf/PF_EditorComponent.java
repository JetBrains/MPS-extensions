package de.q60.mps.explorer.impl.pf;

/*Generated by MPS */

import de.q60.mps.polymorphicfunctions.runtime.PFModule;
import jetbrains.mps.logging.Logger;
import jetbrains.mps.baseLanguage.closures.runtime._FunctionTypes;
import de.q60.mps.polymorphicfunctions.runtime.IFunctionImplementation;
import java.util.List;
import de.q60.mps.polymorphicfunctions.runtime.IParameterType;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.ArrayList;
import de.q60.mps.polymorphicfunctions.runtime.ParameterType_Classifier;
import jetbrains.mps.nodeEditor.EditorComponent;
import de.q60.mps.polymorphicfunctions.runtime.IPFContext;
import de.q60.mps.polymorphicfunctions.runtime.ParameterList;
import de.q60.mps.explorer.pf.ExplorerElement;
import de.q60.mps.polymorphicfunctions.runtime.GroupPFContext;
import java.lang.reflect.Field;
import jetbrains.mps.typechecking.TypecheckingSession;
import de.slisson.mps.reflection.runtime.ReflectionUtil;
import jetbrains.mps.openapi.editor.message.SimpleEditorMessage;
import jetbrains.mps.nodeEditor.MessagesGutter;
import java.util.Map;
import java.lang.ref.WeakReference;

public class PF_EditorComponent extends PFModule {
  private static final Logger LOG = Logger.getLogger(PF_EditorComponent.class);
  public static final PF_EditorComponent INSTANCE = ((_FunctionTypes._return_P0_E0<PF_EditorComponent>) () -> {
    try {
      return new PF_EditorComponent();
    } catch (RuntimeException ex) {
      if (LOG.isErrorLevel()) {
        LOG.error("Failed to load " + PF_EditorComponent.class.getName(), ex);
      }
      throw ex;
    }
  }).invoke();
  private PF_EditorComponent() {
    addImplementation("de.q60.mps.explorer.pf.TraceBuilders_base.buildTrace", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromListAndArray(new ArrayList<IParameterType>(), new ParameterType_Classifier(EditorComponent.class));
      private List<String> contextIds = ListSequence.fromListAndArray(new ArrayList<String>(), "de.q60.mps.explorer.pf.TraceBuilders_base.explorerContextGroup");
      private List<String> groupIds = ListSequence.fromList(new ArrayList<String>());
      @Override
      public String getId() {
        return "de.q60.mps.explorer.impl.pf/PF_EditorComponent/buildTrace_3";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        if (!(_PFparameters.get(0) == null || _PFparameters.get(0) instanceof EditorComponent)) {
          return false;
        }
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return new Object() {
          public ExplorerElement groupCall(final IPFContext _PFcontext) {
            return ((ExplorerElement) _PFcontext.callFunction("de.q60.mps.explorer.pf.TraceBuilders_base.buildTrace", new ParameterList(new Object[]{((EditorComponent) _PFparameters.get(0))})));
          }
        }.groupCall(new GroupPFContext(_PFcontext, "de.q60.mps.explorer.impl.pf.PF_EditorComponent.debugEditor"));
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
    addImplementation("de.q60.mps.explorer.pf.TraceBuilders_base.buildTrace", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromListAndArray(new ArrayList<IParameterType>(), new ParameterType_Classifier(Object.class));
      private List<String> contextIds = ListSequence.fromListAndArray(new ArrayList<String>(), "de.q60.mps.explorer.pf.TraceBuilders_base.explorerContextGroup");
      private List<String> groupIds = ListSequence.fromListAndArray(new ArrayList<String>(), "de.q60.mps.explorer.impl.pf.PF_EditorComponent.debugEditor");
      @Override
      public String getId() {
        return "de.q60.mps.explorer.impl.pf/PF_EditorComponent/buildTrace_0";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        if (!(_PFparameters.get(0) == null || _PFparameters.get(0) instanceof Object)) {
          return false;
        }
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        ExplorerElement result = new ExplorerElement();
        result.text = "" + ((Object) _PFparameters.get(0)) + " [" + ((Object) _PFparameters.get(0)).getClass().getSimpleName() + "]";

        Class cls = ((Object) _PFparameters.get(0)).getClass();
        while (cls != null) {
          for (Field field : cls.getDeclaredFields()) {
            try {
              field.setAccessible(true);
              result.addChild(cls.getSimpleName() + "." + field.getName() + " = ", field.get(((Object) _PFparameters.get(0))));
            } catch (Exception ex) {
              if (LOG.isErrorLevel()) {
                LOG.error("", ex);
              }
            }
          }
          cls = cls.getSuperclass();
        }

        return result;
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
    addImplementation("de.q60.mps.explorer.pf.TraceBuilders_base.buildTrace", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromListAndArray(new ArrayList<IParameterType>(), new ParameterType_Classifier(EditorComponent.class));
      private List<String> contextIds = ListSequence.fromListAndArray(new ArrayList<String>(), "de.q60.mps.explorer.pf.TraceBuilders_base.explorerContextGroup");
      private List<String> groupIds = ListSequence.fromListAndArray(new ArrayList<String>(), "de.q60.mps.explorer.impl.pf.PF_EditorComponent.debugEditor");
      @Override
      public String getId() {
        return "de.q60.mps.explorer.impl.pf/PF_EditorComponent/buildTrace_1";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        if (!(_PFparameters.get(0) == null || _PFparameters.get(0) instanceof EditorComponent)) {
          return false;
        }
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        ExplorerElement te = new ExplorerElement();
        te.text = ((String) _PFcontext.callFunction("de.q60.mps.explorer.pf.TraceBuilders_base.toString", new ParameterList(new Object[]{((EditorComponent) _PFparameters.get(0))})));
        te.addChild("updater: ", ((EditorComponent) _PFparameters.get(0)).getUpdater());
        te.addChild("type checking session: ", ((TypecheckingSession.Handle) ReflectionUtil.readField(EditorComponent.class, ((EditorComponent) _PFparameters.get(0)), "myTypecheckingSessionHandle")).session());
        te.addChild("selection stack: ", ((EditorComponent) _PFparameters.get(0)).getSelectionManager().getSelectionStackIterable());
        te.addChild("highlighter messages: ", ((EditorComponent) _PFparameters.get(0)).getHighlightManager().getMessages());
        te.addChild("gutter messages: ", ((List<SimpleEditorMessage>) ReflectionUtil.readField(MessagesGutter.class, ((EditorComponent) _PFparameters.get(0)).getMessagesGutter(), "myMessages")));

        return te;
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
    addImplementation("de.q60.mps.explorer.pf.TraceBuilders_base.buildTrace", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromListAndArray(new ArrayList<IParameterType>(), new ParameterType_Classifier(Map.class));
      private List<String> contextIds = ListSequence.fromListAndArray(new ArrayList<String>(), "de.q60.mps.explorer.pf.TraceBuilders_base.explorerContextGroup");
      private List<String> groupIds = ListSequence.fromListAndArray(new ArrayList<String>(), "de.q60.mps.explorer.impl.pf.PF_EditorComponent.debugEditor");
      @Override
      public String getId() {
        return "de.q60.mps.explorer.impl.pf/PF_EditorComponent/buildTrace_2";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        if (!(_PFparameters.get(0) == null || _PFparameters.get(0) instanceof Map)) {
          return false;
        }
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        ExplorerElement te = new ExplorerElement();
        te.text = "map " + ((Map) _PFparameters.get(0)).size();
        for (Object entry : ((Map) _PFparameters.get(0)).entrySet()) {
          te.addChild(entry);
        }
        return te;
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
    addImplementation("de.q60.mps.explorer.pf.TraceBuilders_base.buildTrace", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromListAndArray(new ArrayList<IParameterType>(), new ParameterType_Classifier(Map.Entry.class));
      private List<String> contextIds = ListSequence.fromListAndArray(new ArrayList<String>(), "de.q60.mps.explorer.pf.TraceBuilders_base.explorerContextGroup");
      private List<String> groupIds = ListSequence.fromListAndArray(new ArrayList<String>(), "de.q60.mps.explorer.impl.pf.PF_EditorComponent.debugEditor");
      @Override
      public String getId() {
        return "de.q60.mps.explorer.impl.pf/PF_EditorComponent/buildTrace_3";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        if (!(_PFparameters.get(0) == null || _PFparameters.get(0) instanceof Map.Entry)) {
          return false;
        }
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        ExplorerElement te = new ExplorerElement();
        te.text = ((String) _PFcontext.callFunction("de.q60.mps.explorer.pf.TraceBuilders_base.toString", new ParameterList(new Object[]{((Map.Entry) _PFparameters.get(0)).getKey()}))) + " -> " + ((String) _PFcontext.callFunction("de.q60.mps.explorer.pf.TraceBuilders_base.toString", new ParameterList(new Object[]{((Map.Entry) _PFparameters.get(0)).getValue()})));
        te.addChild("key = ", ((Map.Entry) _PFparameters.get(0)).getKey());
        te.addChild("value = ", ((Map.Entry) _PFparameters.get(0)).getValue());
        return te;
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
    addImplementation("de.q60.mps.explorer.pf.TraceBuilders_base.buildTrace", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromListAndArray(new ArrayList<IParameterType>(), new ParameterType_Classifier(Iterable.class));
      private List<String> contextIds = ListSequence.fromListAndArray(new ArrayList<String>(), "de.q60.mps.explorer.pf.TraceBuilders_base.explorerContextGroup");
      private List<String> groupIds = ListSequence.fromListAndArray(new ArrayList<String>(), "de.q60.mps.explorer.impl.pf.PF_EditorComponent.debugEditor");
      @Override
      public String getId() {
        return "de.q60.mps.explorer.impl.pf/PF_EditorComponent/buildTrace_4";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        if (!(_PFparameters.get(0) == null || _PFparameters.get(0) instanceof Iterable)) {
          return false;
        }
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        ExplorerElement te = new ExplorerElement();
        te.text = ((String) _PFcontext.callFunction("de.q60.mps.explorer.pf.TraceBuilders_base.toString", new ParameterList(new Object[]{((Iterable) _PFparameters.get(0))})));
        int index = 0;
        for (Object entry : ((Iterable) _PFparameters.get(0))) {
          te.addChild("[" + index++ + "] ", entry);
        }
        return te;
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
    addImplementation("de.q60.mps.explorer.pf.TraceBuilders_base.toString", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromListAndArray(new ArrayList<IParameterType>(), new ParameterType_Classifier(Iterable.class));
      private List<String> contextIds = ListSequence.fromList(new ArrayList<String>());
      private List<String> groupIds = ListSequence.fromListAndArray(new ArrayList<String>(), "de.q60.mps.explorer.impl.pf.PF_EditorComponent.debugEditor");
      @Override
      public String getId() {
        return "de.q60.mps.explorer.impl.pf/PF_EditorComponent/toString_5";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        if (!(_PFparameters.get(0) == null || _PFparameters.get(0) instanceof Iterable)) {
          return false;
        }
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return ((Iterable) _PFparameters.get(0)).toString();
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
    addImplementation("de.q60.mps.explorer.pf.TraceBuilders_base.buildTrace", new IFunctionImplementation() {
      private List<IParameterType> myParameterTypes = ListSequence.fromListAndArray(new ArrayList<IParameterType>(), new ParameterType_Classifier(WeakReference.class));
      private List<String> contextIds = ListSequence.fromListAndArray(new ArrayList<String>(), "de.q60.mps.explorer.pf.TraceBuilders_base.explorerContextGroup");
      private List<String> groupIds = ListSequence.fromListAndArray(new ArrayList<String>(), "de.q60.mps.explorer.impl.pf.PF_EditorComponent.debugEditor");
      @Override
      public String getId() {
        return "de.q60.mps.explorer.impl.pf/PF_EditorComponent/buildTrace_6";
      }
      public boolean isApplicable(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        if (!(_PFparameters.get(0) == null || _PFparameters.get(0) instanceof WeakReference)) {
          return false;
        }
        return true;
      }
      public Object execute(final IPFContext _PFcontext, final ParameterList _PFparameters) {
        return ((ExplorerElement) _PFcontext.callFunction("de.q60.mps.explorer.pf.TraceBuilders_base.buildTrace", new ParameterList(new Object[]{((WeakReference) _PFparameters.get(0)).get()})));
      }
      @Override
      public Iterable<IParameterType> getParameterTypes() {
        return myParameterTypes;
      }
      @Override
      public Iterable<String> getContextIds() {
        return contextIds;
      }
      @Override
      public Iterable<String> getPriorityGroupIds() {
        return groupIds;
      }
    });
  }
}

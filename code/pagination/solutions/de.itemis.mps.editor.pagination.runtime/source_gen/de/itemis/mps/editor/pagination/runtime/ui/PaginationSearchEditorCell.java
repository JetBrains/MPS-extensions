package de.itemis.mps.editor.pagination.runtime.ui;

/*Generated by MPS */

import nl.f1re.mps.editor.swing.runtime.EditorCell_IntelliJComponent;
import de.itemis.mps.editor.pagination.runtime.pages.PagesUserObject;
import jetbrains.mps.openapi.editor.EditorContext;
import javax.swing.JComponent;
import jetbrains.mps.editor.runtime.TextBuilderImpl;
import java.awt.event.KeyListener;
import jetbrains.mps.openapi.editor.cells.CellActionType;
import jetbrains.mps.editor.runtime.cells.EmptyCellAction;

public class PaginationSearchEditorCell extends EditorCell_IntelliJComponent {
  public PaginationSearchEditorCell(PagesUserObject userObj, EditorContext editorContext) {
    super(editorContext, userObj.getNodeWithPagination(), new PaginationSearchPanel(userObj, editorContext), (JComponent component) -> new TextBuilderImpl(""));
    ((PaginationSearchPanel) getComponent()).syncWithEditorCell(this);
    for (KeyListener keyListener : this.getComponent().getKeyListeners()) {
      getComponent().removeKeyListener(keyListener);
    }
    setAction(CellActionType.INSERT, EmptyCellAction.getInstance());
    setAction(CellActionType.INSERT_BEFORE, EmptyCellAction.getInstance());
  }

  @Override
  public int getAscent() {
    // Hardcode horizontal position of search bar since automatic computation does not work
    return 22;
  }
}

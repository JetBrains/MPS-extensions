package com.mbeddr.mpsutil.grammarcells.runtime.menu;

/*Generated by MPS */

import java.util.List;
import jetbrains.mps.openapi.editor.menus.transformation.TransformationMenuItem;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.ArrayList;

public class ShadowingUtil {
  public static List<TransformationMenuItem> applyShadowing(List<TransformationMenuItem> unfiltered) {
    List<TransformationMenuItem> filtered = ListSequence.fromListWithValues(new ArrayList<TransformationMenuItem>(), unfiltered);

    for (int i = 0; i < ListSequence.fromList(filtered).count(); i++) {
      TransformationMenuItem action1_ = ListSequence.fromList(filtered).getElement(i);
      if (!(action1_ instanceof IShadowingTransformationAction)) {
        continue;
      }
      IShadowingTransformationAction action1 = (IShadowingTransformationAction) action1_;
      for (int k = 0; k < ListSequence.fromList(filtered).count(); k++) {
        if (i == k) {
          continue;
        }
        TransformationMenuItem action2 = ListSequence.fromList(filtered).getElement(k);
        if (action1.shadows(action2)) {
          ListSequence.fromList(filtered).removeElementAt(k);
          if (i > k) {
            i--;
          }
          k--;
        }
      }
    }

    return filtered;
  }
}

package de.itemis.mps.spellcheck.runtime.plugin;

/*Generated by MPS */

import jetbrains.mps.workbench.action.BaseAction;
import javax.swing.Icon;
import jetbrains.mps.ide.editor.EditorActionAccess;
import org.jetbrains.annotations.NotNull;
import com.intellij.openapi.actionSystem.AnActionEvent;
import java.util.Map;
import jetbrains.mps.ide.editor.MPSEditorDataKeys;
import jetbrains.mps.nodeEditor.cells.EditorCell_Label;
import jetbrains.mps.openapi.editor.cells.EditorCell;

public class ReplaceWordWithAlternative_Action extends BaseAction {
  private static final Icon ICON = null;

  private String word;
  private String alternativeWord;
  public ReplaceWordWithAlternative_Action(String word_par, String alternativeWord_par) {
    super("use alternative spelling", "", ICON);
    this.word = word_par;
    this.alternativeWord = alternativeWord_par;
    this.setIsAlwaysVisible(false);
    this.setActionAccess(EditorActionAccess.UNDO_EDITOR);
  }
  @Override
  public boolean isDumbAware() {
    return true;
  }
  @Override
  public void doUpdate(@NotNull AnActionEvent event, final Map<String, Object> _params) {
    event.getPresentation().setText(ReplaceWordWithAlternative_Action.this.alternativeWord);
    if (!(event.getData(MPSEditorDataKeys.EDITOR_CELL) instanceof EditorCell_Label)) {
      event.getPresentation().setEnabledAndVisible(false);
    }
  }
  @Override
  protected boolean collectActionData(AnActionEvent event, final Map<String, Object> _params) {
    if (!(super.collectActionData(event, _params))) {
      return false;
    }
    {
      EditorCell p = event.getData(MPSEditorDataKeys.EDITOR_CELL);
      if (p == null) {
        return false;
      }
    }
    return true;
  }
  @Override
  public void doExecute(@NotNull final AnActionEvent event, final Map<String, Object> _params) {
    EditorCell_Label labelCell = ((EditorCell_Label) event.getData(MPSEditorDataKeys.EDITOR_CELL));
    labelCell.changeText(labelCell.getText().replaceAll(ReplaceWordWithAlternative_Action.this.word, ReplaceWordWithAlternative_Action.this.alternativeWord));
  }
  @NotNull
  public String getActionId() {
    StringBuilder res = new StringBuilder();
    res.append(super.getActionId());
    res.append("#");
    res.append(word_State((String) this.word));
    res.append("!");
    res.append(alternativeWord_State((String) this.alternativeWord));
    res.append("!");
    return res.toString();
  }
  public static String word_State(String object) {
    return "";
  }
  public static String alternativeWord_State(String object) {
    return "";
  }
}

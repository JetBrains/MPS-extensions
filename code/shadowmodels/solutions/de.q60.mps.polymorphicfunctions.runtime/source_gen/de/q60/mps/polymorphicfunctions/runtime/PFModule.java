package de.q60.mps.polymorphicfunctions.runtime;

/*Generated by MPS */

import com.google.common.collect.SetMultimap;
import com.google.common.collect.MultimapBuilder;
import java.util.List;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.ArrayList;

public abstract class PFModule implements IImplementationProvider {
  protected SetMultimap<String, IFunctionImplementation> myImplementations = MultimapBuilder.hashKeys().hashSetValues().<String,IFunctionImplementation>build();

  private List<IPriorityRule> myPriorityRules = ListSequence.fromList(new ArrayList<IPriorityRule>());

  @Override
  public Iterable<IFunctionImplementation> getImplementations(IPFContext context, String declarationId, ParameterList parameters) {
    return myImplementations.get(declarationId);
  }

  @Override
  public Iterable<IPriorityRule> getPriorityRules() {
    return myPriorityRules;
  }

  public void addPriorityRule(IPriorityRule rule) {
    ListSequence.fromList(myPriorityRules).addElement(rule);
  }
}

package de.slisson.mps.tables.runtime.simplegrid;

/*Generated by MPS */

import java.util.Iterator;

public class SimpleGridIterator<E> implements Iterator<E> {

  private int x = 0;
  private int y = 0;
  private SimpleGrid<E> myGrid;

  public SimpleGridIterator(SimpleGrid<E> grid) {
    myGrid = grid;
    init();
  }

  private void init() {
    nextNotNull();
  }

  public boolean hasNext() {
    return !(endReached());
  }

  public E next() {
    E result = myGrid.getElement(x, y);
    move();
    nextNotNull();
    return result;
  }

  private void move() {
    x++;
    if (x >= myGrid.getSizeX()) {
      y++;
      x = 0;
    }
  }

  private boolean endReached() {
    return x >= myGrid.getSizeX() || y >= myGrid.getSizeY();
  }

  public void nextNotNull() {
    while (!(endReached()) && myGrid.getElement(x, y) == null) {
      move();
    }
  }

  public void remove() {
  }


}

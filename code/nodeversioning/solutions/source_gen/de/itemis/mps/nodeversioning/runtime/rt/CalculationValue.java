package de.itemis.mps.nodeversioning.runtime.rt;

/*Generated by MPS */


public class CalculationValue<T> {
  private boolean calculating = true;
  private boolean hasIntermediateValue = false;
  private T finalValue = null;
  private T intermediateValue = null;
  public T getValue() {
    if (calculating && !(hasIntermediateValue)) {
      throw new IllegalStateException("no value provided");
    }
    if (calculating) {
      return intermediateValue;
    }
    return finalValue;
  }
  public T getFinalValue() {
    if (calculating) {
      throw new IllegalStateException("still calculating");
    }
    return finalValue;
  }
  public boolean valueAvailable() {
    return hasIntermediateValue || !(calculating);
  }
  public boolean isCalculating() {
    return calculating;
  }
  public void setIntermediateResult(T result) {
    this.intermediateValue = result;
    this.hasIntermediateValue = true;
  }
  public void setFinalResult(T result) {
    this.calculating = false;
    finalValue = result;
  }
}

package de.itemis.mps.comparator.code;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import java.util.List;

public class AttributeDifference extends NodeDifference {

  private String attribute;
  private int index;
  private MPSNodeComparisonResult result;

  /*package*/ AttributeDifference(SNode expected, SNode actual, String expectedName, String actualName, String attribute, int index, MPSNodeComparisonResult result) {
    super(expected, actual, expectedName, actualName);
    this.attribute = attribute;
    this.index = index;
    this.result = result;
  }

  public String getAttribute() {
    return attribute;
  }

  public int getIndex() {
    return index;
  }

  public List<NodeDifference> getAttributeDifferences() {
    return result.getDifferences();
  }

  public List<NodeDifference> getNestedDifferences() {
    return getAttributeDifferences();
  }

  protected String getDescription(String expectedName, String actualName) {
    StringBuilder description = new StringBuilder();
    description.append(attribute);
    description.append(" (attribute of concept ");
    description.append(getExpectedConcept().getName());
    description.append(") in index ");
    description.append(index);
    description.append(" doesn't match:\n\t");
    description.append(ComparatorStringUtils.indent(result.getDescription()));
    return description.toString();
  }

}

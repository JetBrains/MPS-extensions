package de.itemis.mps.tooltips.runtime.plugin;

/*Generated by MPS */

import jetbrains.mps.plugins.part.ProjectPluginPart;
import com.intellij.util.messages.MessageBusConnection;
import de.slisson.mps.hacks.editor.EditorComponentCreationListener;
import jetbrains.mps.project.MPSProject;
import com.intellij.openapi.project.Project;
import jetbrains.mps.ide.project.ProjectHelper;
import jetbrains.mps.nodeEditor.EditorComponent;
import de.itemis.mps.tooltips.runtime.TooltipManager;

public class ProjectPlugin_ProjectPluginPart extends ProjectPluginPart {
  private MessageBusConnection myConnection;
  private EditorComponentCreationListener myCreateListener;
  public ProjectPlugin_ProjectPluginPart() {
  }
  @Override
  public void init(MPSProject project) {
    Project ideaProject = ProjectHelper.toIdeaProject(project);

    ProjectPlugin_ProjectPluginPart.this.myCreateListener = new EditorComponentCreationListener(project) {
      public void editorComponentCreate(EditorComponent editorComponent) {
        // make sure a TooltipManager is created for the EditorComponent
        TooltipManager.getInstance(editorComponent);
      }
      public void editorComponentDisposed(EditorComponent editorComponent) {
        TooltipManager.disposeInstance(editorComponent);
      }
    };
    ProjectPlugin_ProjectPluginPart.this.myCreateListener.start(true);
  }
  @Override
  public void dispose(MPSProject project) {
    ProjectPlugin_ProjectPluginPart.this.myCreateListener.stop();
  }
}

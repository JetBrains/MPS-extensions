package de.q60.mps.util.invalidation;

/*Generated by MPS */

import java.util.Set;
import jetbrains.mps.internal.collections.runtime.SetSequence;
import java.util.HashSet;

public class Invalidator {
  private static Invalidator ourInstance = new Invalidator();
  public static Invalidator getInstance() {
    return ourInstance;
  }

  private Set<IInvalidatable> invalidatables = SetSequence.fromSet(new HashSet<IInvalidatable>());

  public Invalidator() {
  }

  public void register(IInvalidatable invalidatable) {
    SetSequence.fromSet(invalidatables).addElement(invalidatable);
  }

  public void unregister(IInvalidatable invalidatable) {
    SetSequence.fromSet(invalidatables).removeElement(invalidatable);
  }

  public Iterable<IInvalidatable> getInvalidatables() {
    return invalidatables;
  }

  public void invalidateAll() {
    for (IInvalidatable invalidatable : SetSequence.fromSet(invalidatables)) {
      invalidatable.invalidate();
    }
  }
}

package com.mbeddr.mpsutil.blutil.behavior;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import jetbrains.mps.smodel.builder.SNodeBuilder;
import jetbrains.mps.lang.smodel.ConceptSwitchIndex;
import jetbrains.mps.lang.smodel.ConceptSwitchIndexBuilder;
import jetbrains.mps.smodel.adapter.ids.MetaIdFactory;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.mps.openapi.language.SConcept;

public class BuilderReplaceHelper {
  public static SNode getQuotationFor(SNode builder) {
    SNode nbn = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x3a13115c633c4c5cL, 0xbbcc75c4219e9555L, 0x4bb51009d20a4aa0L, "jetbrains.mps.lang.quotation.structure.NodeBuilderNode"));
    SLinkOperations.setTarget(nbn, LINKS.concept$xoA0, SNodeOperations.cast(SLinkOperations.getTarget(SNodeOperations.cast(SLinkOperations.getTarget(SLinkOperations.getTarget(builder, LINKS.root$OU6e), LINKS.value$jf98), CONCEPTS.ConceptRef$Uu), LINKS.concept$ctW9), CONCEPTS.ConceptDeclaration$gH));
    for (SNode child : ListSequence.fromList(SLinkOperations.getChildren(SLinkOperations.getTarget(builder, LINKS.root$OU6e), LINKS.children$k0nx))) {
      ListSequence.fromList(SLinkOperations.getChildren(nbn, LINKS.values$JgAV)).addElement(BuilderReplaceHelper.handleChild(child));
    }
    return nbn;
  }
  private static SNode handleChild(SNode child) {
    SAbstractConcept cncpt = SNodeOperations.getConcept(child);
    switch (conceptIndex.index(cncpt)) {
      case 0:
        SNode init = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x3a13115c633c4c5cL, 0xbbcc75c4219e9555L, 0x4bb51009d20c8e1aL, "jetbrains.mps.lang.quotation.structure.NodeBuilderInitLink"));
        SLinkOperations.setTarget(init, LINKS.link$VNT5, SLinkOperations.getTarget(SNodeOperations.cast(child, CONCEPTS.ChildStep$O4), LINKS.childLink$hz7X));
        if (SNodeOperations.isInstanceOf(SLinkOperations.getTarget(SNodeOperations.cast(child, CONCEPTS.ChildStep$O4), LINKS.value$jf98), CONCEPTS.ExpressionChildValue$J$)) {
          SLinkOperations.setTarget(init, LINKS.expression$YNz0, createNodeBuilderExpression_uxjizn_a0a0c0a0a1(SLinkOperations.getTarget(SNodeOperations.cast(SLinkOperations.getTarget(SNodeOperations.cast(child, CONCEPTS.ChildStep$O4), LINKS.value$jf98), CONCEPTS.ExpressionChildValue$J$), LINKS.expr$rSv9)));
        } else {
          SLinkOperations.setTarget(init, LINKS.expression$YNz0, createNodeBuilderNode_uxjizn_a0a0a2a0a0b(SNodeOperations.cast(SLinkOperations.getTarget(SNodeOperations.cast(SLinkOperations.getTarget(SNodeOperations.cast(child, CONCEPTS.ChildStep$O4), LINKS.value$jf98), CONCEPTS.ConceptRef$Uu), LINKS.concept$ctW9), CONCEPTS.ConceptDeclaration$gH), ListSequence.fromList(SLinkOperations.getChildren(SNodeOperations.cast(child, CONCEPTS.ChildStep$O4), LINKS.children$k0nx)).select((it) -> handleChild(it))));
        }

        return init;
      case 1:
        SNode init2 = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x3a13115c633c4c5cL, 0xbbcc75c4219e9555L, 0x4bb51009d20c8e1aL, "jetbrains.mps.lang.quotation.structure.NodeBuilderInitLink"));
        SLinkOperations.setTarget(init2, LINKS.expression$YNz0, createNodeBuilderExpression_uxjizn_a0b0b0a1(SLinkOperations.getTarget(SNodeOperations.cast(child, CONCEPTS.RefStep$f7), LINKS.target$5CvE)));
        SLinkOperations.setTarget(init2, LINKS.link$VNT5, SLinkOperations.getTarget(SNodeOperations.cast(child, CONCEPTS.RefStep$f7), LINKS.refLink$5CgD));
        return init2;
      case 2:
        SNode init3 = SConceptOperations.createNewNode(MetaAdapterFactory.getConcept(0x3a13115c633c4c5cL, 0xbbcc75c4219e9555L, 0x4bb51009d20b0325L, "jetbrains.mps.lang.quotation.structure.NodeBuilderInitProperty"));
        SLinkOperations.setTarget(init3, LINKS.expression$YNz0, SLinkOperations.getTarget(SNodeOperations.cast(child, CONCEPTS.SimplePropertyStep$pu), LINKS.value$D_W2));
        SLinkOperations.setTarget(init3, LINKS.property$Y_u4, SLinkOperations.getTarget(SNodeOperations.cast(child, CONCEPTS.SimplePropertyStep$pu), LINKS.property$DOfA));
        return init3;
      default:
        throw new RuntimeException("Can't handle this child step: " + SNodeOperations.getConcept(child));
    }
  }
  private static SNode createNodeBuilderExpression_uxjizn_a0a0c0a0a1(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.NodeBuilderExpression$UJ);
    n0.forChild(LINKS.expression$2il5).initNode(p0, CONCEPTS.Expression$mB, true);
    return n0.getResult();
  }
  private static SNode createNodeBuilderNode_uxjizn_a0a0a2a0a0b(SNode p0, Iterable<? extends SNode> p1) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.NodeBuilderNode$Sn);
    n0.setReferenceTarget(LINKS.concept$xoA0, p0);
    n0.forChild(LINKS.values$JgAV).initNodeList(p1, CONCEPTS.NodeBuilderInitPart$Zx);
    return n0.getResult();
  }
  private static SNode createNodeBuilderExpression_uxjizn_a0b0b0a1(SNode p0) {
    SNodeBuilder n0 = new SNodeBuilder().init(CONCEPTS.NodeBuilderExpression$UJ);
    n0.forChild(LINKS.expression$2il5).initNode(p0, CONCEPTS.Expression$mB, true);
    return n0.getResult();
  }
  private static final ConceptSwitchIndex conceptIndex = new ConceptSwitchIndexBuilder().put(MetaIdFactory.conceptId(0x63e0e5665131447eL, 0x90e312ea330e1a00L, 0x3e329772626e7773L), MetaIdFactory.conceptId(0x63e0e5665131447eL, 0x90e312ea330e1a00L, 0x3e32977262761ab0L), MetaIdFactory.conceptId(0x63e0e5665131447eL, 0x90e312ea330e1a00L, 0x3e329772626f2267L)).seal();

  private static final class LINKS {
    /*package*/ static final SReferenceLink concept$xoA0 = MetaAdapterFactory.getReferenceLink(0x3a13115c633c4c5cL, 0xbbcc75c4219e9555L, 0x4bb51009d20a4aa0L, 0x4bb51009d20b02b1L, "concept");
    /*package*/ static final SContainmentLink root$OU6e = MetaAdapterFactory.getContainmentLink(0x63e0e5665131447eL, 0x90e312ea330e1a00L, 0x3e329772626e752dL, 0x3e329772626e755fL, "root");
    /*package*/ static final SContainmentLink value$jf98 = MetaAdapterFactory.getContainmentLink(0x63e0e5665131447eL, 0x90e312ea330e1a00L, 0x3e329772626e7773L, 0x578b20c75bb99b60L, "value");
    /*package*/ static final SReferenceLink concept$ctW9 = MetaAdapterFactory.getReferenceLink(0x63e0e5665131447eL, 0x90e312ea330e1a00L, 0x3e32977262752aeaL, 0x3e32977262752aebL, "concept");
    /*package*/ static final SContainmentLink values$JgAV = MetaAdapterFactory.getContainmentLink(0x3a13115c633c4c5cL, 0xbbcc75c4219e9555L, 0x4bb51009d20a4aa0L, 0x4bb51009d20b033bL, "values");
    /*package*/ static final SContainmentLink children$k0nx = MetaAdapterFactory.getContainmentLink(0x63e0e5665131447eL, 0x90e312ea330e1a00L, 0x3e329772626e7773L, 0x3e329772626e7777L, "children");
    /*package*/ static final SReferenceLink link$VNT5 = MetaAdapterFactory.getReferenceLink(0x3a13115c633c4c5cL, 0xbbcc75c4219e9555L, 0x4bb51009d20c8e1aL, 0x4bb51009d20c8e1cL, "link");
    /*package*/ static final SReferenceLink childLink$hz7X = MetaAdapterFactory.getReferenceLink(0x63e0e5665131447eL, 0x90e312ea330e1a00L, 0x3e329772626e7773L, 0x3e329772626f875bL, "childLink");
    /*package*/ static final SContainmentLink expression$YNz0 = MetaAdapterFactory.getContainmentLink(0x3a13115c633c4c5cL, 0xbbcc75c4219e9555L, 0x4bb51009d20b0339L, 0x4bb51009d20b0336L, "expression");
    /*package*/ static final SContainmentLink expr$rSv9 = MetaAdapterFactory.getContainmentLink(0x63e0e5665131447eL, 0x90e312ea330e1a00L, 0xa301e50ded9c71eL, 0xa301e50ded9c71fL, "expr");
    /*package*/ static final SContainmentLink target$5CvE = MetaAdapterFactory.getContainmentLink(0x63e0e5665131447eL, 0x90e312ea330e1a00L, 0x3e32977262761ab0L, 0x3e32977262761ab2L, "target");
    /*package*/ static final SReferenceLink refLink$5CgD = MetaAdapterFactory.getReferenceLink(0x63e0e5665131447eL, 0x90e312ea330e1a00L, 0x3e32977262761ab0L, 0x3e32977262761ab1L, "refLink");
    /*package*/ static final SContainmentLink value$D_W2 = MetaAdapterFactory.getContainmentLink(0x63e0e5665131447eL, 0x90e312ea330e1a00L, 0x3e329772626f2267L, 0x3e329772626f3e18L, "value");
    /*package*/ static final SReferenceLink property$Y_u4 = MetaAdapterFactory.getReferenceLink(0x3a13115c633c4c5cL, 0xbbcc75c4219e9555L, 0x4bb51009d20b0325L, 0x4bb51009d20b0326L, "property");
    /*package*/ static final SReferenceLink property$DOfA = MetaAdapterFactory.getReferenceLink(0x63e0e5665131447eL, 0x90e312ea330e1a00L, 0x3e329772626f2267L, 0x3e329772626f2270L, "property");
    /*package*/ static final SContainmentLink expression$2il5 = MetaAdapterFactory.getContainmentLink(0x3a13115c633c4c5cL, 0xbbcc75c4219e9555L, 0x718e3f4cb7a3132eL, 0x718e3f4cb7a31330L, "expression");
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept ConceptRef$Uu = MetaAdapterFactory.getConcept(0x63e0e5665131447eL, 0x90e312ea330e1a00L, 0x3e32977262752aeaL, "com.mbeddr.mpsutil.blutil.structure.ConceptRef");
    /*package*/ static final SConcept ConceptDeclaration$gH = MetaAdapterFactory.getConcept(0xc72da2b97cce4447L, 0x8389f407dc1158b7L, 0xf979ba0450L, "jetbrains.mps.lang.structure.structure.ConceptDeclaration");
    /*package*/ static final SConcept ChildStep$O4 = MetaAdapterFactory.getConcept(0x63e0e5665131447eL, 0x90e312ea330e1a00L, 0x3e329772626e7773L, "com.mbeddr.mpsutil.blutil.structure.ChildStep");
    /*package*/ static final SConcept ExpressionChildValue$J$ = MetaAdapterFactory.getConcept(0x63e0e5665131447eL, 0x90e312ea330e1a00L, 0xa301e50ded9c71eL, "com.mbeddr.mpsutil.blutil.structure.ExpressionChildValue");
    /*package*/ static final SConcept RefStep$f7 = MetaAdapterFactory.getConcept(0x63e0e5665131447eL, 0x90e312ea330e1a00L, 0x3e32977262761ab0L, "com.mbeddr.mpsutil.blutil.structure.RefStep");
    /*package*/ static final SConcept SimplePropertyStep$pu = MetaAdapterFactory.getConcept(0x63e0e5665131447eL, 0x90e312ea330e1a00L, 0x3e329772626f2267L, "com.mbeddr.mpsutil.blutil.structure.SimplePropertyStep");
    /*package*/ static final SConcept NodeBuilderExpression$UJ = MetaAdapterFactory.getConcept(0x3a13115c633c4c5cL, 0xbbcc75c4219e9555L, 0x718e3f4cb7a3132eL, "jetbrains.mps.lang.quotation.structure.NodeBuilderExpression");
    /*package*/ static final SConcept Expression$mB = MetaAdapterFactory.getConcept(0xf3061a5392264cc5L, 0xa443f952ceaf5816L, 0xf8c37f506fL, "jetbrains.mps.baseLanguage.structure.Expression");
    /*package*/ static final SConcept NodeBuilderNode$Sn = MetaAdapterFactory.getConcept(0x3a13115c633c4c5cL, 0xbbcc75c4219e9555L, 0x4bb51009d20a4aa0L, "jetbrains.mps.lang.quotation.structure.NodeBuilderNode");
    /*package*/ static final SConcept NodeBuilderInitPart$Zx = MetaAdapterFactory.getConcept(0x3a13115c633c4c5cL, 0xbbcc75c4219e9555L, 0x4bb51009d20b0339L, "jetbrains.mps.lang.quotation.structure.NodeBuilderInitPart");
  }
}

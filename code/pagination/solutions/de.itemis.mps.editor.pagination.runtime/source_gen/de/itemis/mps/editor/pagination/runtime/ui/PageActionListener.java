package de.itemis.mps.editor.pagination.runtime.ui;

/*Generated by MPS */

import java.awt.event.ActionListener;
import de.itemis.mps.editor.pagination.runtime.pages.PagesUserObject;
import jetbrains.mps.openapi.editor.EditorContext;
import java.awt.event.ActionEvent;

public abstract class PageActionListener implements ActionListener {
  private final PagesUserObject userObj;
  private final EditorContext editorContext;

  public PageActionListener(PagesUserObject userObj, EditorContext editorContext) {
    this.userObj = userObj;
    this.editorContext = editorContext;
  }

  public abstract boolean canMove(PagesUserObject pagesUserObj);

  public abstract void move(PagesUserObject pagesUserObj);

  @Override
  public void actionPerformed(ActionEvent event) {
    editorContext.getRepository().getModelAccess().runReadAction(() -> {
      if (!(canMove(userObj))) {
        return;
      }
      move(userObj);
      editorContext.getEditorComponent().rebuildEditorContent();
    });
  }
}

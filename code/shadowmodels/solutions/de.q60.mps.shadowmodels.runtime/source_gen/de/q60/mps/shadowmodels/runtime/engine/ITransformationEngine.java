package de.q60.mps.shadowmodels.runtime.engine;

/*Generated by MPS */

import de.q60.mps.shadowmodels.runtime.util.IUserObjectContainer;
import org.modelix.model.area.IArea;
import de.q60.mps.incremental.runtime.IInvalidationListener;
import de.q60.mps.incremental.util.ContextValue;
import org.modelix.model.api.INode;
import de.q60.mps.incremental.runtime.IncrementalEngine;

public interface ITransformationEngine extends IUserObjectContainer {
  IArea getArea();

  void addInvalidationListener(IInvalidationListener l);
  void removeInvalidationListener(IInvalidationListener l);

  IStageReference getCurrentContext();
  ContextValue<IStageReference> currentContext();

  ISubgraphStage resolveStage(IStageReference stageRef);
  INode resolveResultElement(IOutputNodeReference ref);
  ISubgraphStage getCurrentlyComputedStage();

  Iterable<IOutputNodeReference> resolveRootNodes(ContainmentTargetRootNodes ref);
  IContainment resolveContainment(IOutputNodesReference child);
  void rememberContainment(IOutputNodeReference child, KnownContainment containment);

  Iterable<? extends Iterable<INode>> executeCallExpression(IContainmentTarget call);
  ITransformationResult execute(IStageReference stage, IUniqueContainmentTarget<TransformationCall> call);
  IncrementalEngine getIncrementalEngine();

  Iterable<INode> executeInCurrentStage(IContainmentTarget call);
}

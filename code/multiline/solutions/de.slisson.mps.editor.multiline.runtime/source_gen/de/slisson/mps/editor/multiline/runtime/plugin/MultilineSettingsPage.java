package de.slisson.mps.editor.multiline.runtime.plugin;

/*Generated by MPS */

import javax.swing.JPanel;
import com.intellij.openapi.project.Project;
import java.util.Objects;
import com.intellij.ide.util.PropertiesComponent;
import javax.swing.BoxLayout;
import com.intellij.ui.components.JBCheckBox;
import javax.swing.Box;
import com.intellij.ui.IdeBorderFactory;
import com.intellij.util.ui.JBUI;
import javax.swing.JCheckBox;

public class MultilineSettingsPage extends JPanel {

  public static String SPELL_CHECKING_ENABLE_KEY = "multiline_enable_spell_checking";

  public static boolean isSpellCheckingEnabledInPreferences(Project project) {
    if (Objects.equals(PropertiesComponent.getInstance(project).getValue(SPELL_CHECKING_ENABLE_KEY, "yes"), "yes")) {
      return true;
    }
    return false;
  }

  public static void setSpellCheckingEnabledInPreferences(Project project, boolean flag) {
    PropertiesComponent.getInstance(project).setValue(SPELL_CHECKING_ENABLE_KEY, (flag ? "yes" : "no"));
  }

  public MultilineSettingsPage() {
    init();
  }

  private void init() {
    setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));

    this.enableSpellCheckingCheckbox = new JBCheckBox("Enable spell checking for text and headers");

    {
      JPanel mainPanel = new JPanel();
      mainPanel.setLayout(new BoxLayout(mainPanel, BoxLayout.Y_AXIS));
      mainPanel.add(Box.createHorizontalGlue());
      mainPanel.setBorder(IdeBorderFactory.createTitledBorder("General", false));

      {
        JPanel subpanel = new JPanel();
        subpanel.setLayout(new BoxLayout(subpanel, BoxLayout.Y_AXIS));
        subpanel.add(Box.createVerticalStrut(0));
        subpanel.setBorder(JBUI.Borders.emptyLeft(20));

        subpanel.add(this.enableSpellCheckingCheckbox);

        mainPanel.add(subpanel);
      }

      add(mainPanel);
    }
  }

  public boolean isSpellCheckingEnabledInGUI() {
    return enableSpellCheckingCheckbox.isSelected();
  }

  public void setSpellCheckingEnabledInGUI(boolean flag) {
    this.enableSpellCheckingCheckbox.setSelected(flag);
  }

  private JCheckBox enableSpellCheckingCheckbox;

}

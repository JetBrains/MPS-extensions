package de.itemis.mps.tooltips.runtime;

/*Generated by MPS */

import javax.swing.JComponent;
import jetbrains.mps.nodeEditor.cells.EditorCell;
import java.awt.Dimension;
import java.awt.Graphics;
import java.awt.Graphics2D;
import jetbrains.mps.nodeEditor.EditorComponent;

public class TooltipComponent extends JComponent {
  private static final int X_PADDING = 4;
  private static final int Y_PADDING = 2;

  private EditorCell myTooltipCell;

  public TooltipComponent(jetbrains.mps.openapi.editor.cells.EditorCell tooltipCell) {
    myTooltipCell = (EditorCell) tooltipCell;


  }

  @Override
  public void doLayout() {
    myTooltipCell.relayout();
    setPreferredSize(new Dimension(myTooltipCell.getWidth() + TooltipComponent.X_PADDING * 2, myTooltipCell.getHeight() + TooltipComponent.Y_PADDING * 2));
  }

  @Override
  protected void paintComponent(Graphics g_) {
    Graphics2D g = (Graphics2D) g_.create();
    try {
      if (!(myTooltipCell.getContext().getEditorComponent().isDisposed())) {
        EditorComponent.turnOnAliasingIfPossible(g);
        g.translate(-myTooltipCell.getX() + X_PADDING, -myTooltipCell.getY() + Y_PADDING);
        myTooltipCell.paint(g);
      }
    } finally {
      g.dispose();
    }
  }
}

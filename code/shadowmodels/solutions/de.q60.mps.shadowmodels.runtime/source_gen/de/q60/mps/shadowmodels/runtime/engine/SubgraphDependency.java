package de.q60.mps.shadowmodels.runtime.engine;

/*Generated by MPS */

import org.jetbrains.annotations.NotNull;

/**
 * 
 * @deprecated  Use scopes with imports
 */
@Deprecated
public class SubgraphDependency {
  private final ISubgraphCall target;
  /**
   * In a dependency graph where S1 has a dependency D12 on S2 and S2 has a dependency D23 on S3,
   * setting reexport to true on D23 will make S3 visible to S1.
   */
  private final boolean reexport;
  /**
   * In a dependency graph where S1 has a dependency D12 on S2 and S2 has a dependency D23 on S3,
   * setting includeTransitive to true on D12 will make S3 visible to S1.
   * 
   * An additional dependency D34 from D3 to D4 without this flag set will not be visible to S1,
   * because D4 is not visible to D2.
   */
  private final boolean includeTransitive;


  @Deprecated
  public SubgraphDependency(@NotNull ISubgraphCall target) {
    this(target, false, false);
  }

  @Deprecated
  public SubgraphDependency(@NotNull ISubgraphCall target, boolean reexport, boolean includeTransitive) {
    this.includeTransitive = includeTransitive;
    this.reexport = reexport;
    this.target = target;
  }


  public boolean isIncludeTransitive() {
    return includeTransitive;
  }

  public boolean isReexport() {
    return reexport;
  }

  public ISubgraphCall getTarget() {
    return target;
  }


  @Override
  public boolean equals(Object o) {
    if (this == o) {
      return true;
    }
    if (o == null || this.getClass() != o.getClass()) {
      return false;
    }

    SubgraphDependency that = (SubgraphDependency) o;
    if (includeTransitive != that.includeTransitive) {
      return false;
    }
    if (reexport != that.reexport) {
      return false;
    }
    if ((target != null ? !(target.equals(that.target)) : that.target != null)) {
      return false;
    }

    return true;
  }
  @Override
  public int hashCode() {
    int result = 0;
    result = 31 * result + ((includeTransitive ? 1 : 0));
    result = 31 * result + ((reexport ? 1 : 0));
    result = 31 * result + ((target != null ? ((Object) target).hashCode() : 0));
    return result;
  }

  @Deprecated
  public SubgraphDependency withoutStageLimit() {
    throw new UnsupportedOperationException();
  }

}

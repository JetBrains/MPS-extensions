package de.itemis.mps.changelog.editor;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.openapi.editor.EditorContext;
import java.lang.reflect.Method;
import jetbrains.mps.baseLanguage.logging.rt.LogContext;

public class NewElementStrategyFactoryWrapper {
  public static void execute(SNode node, EditorContext editorContext, boolean isFirstPosition) {
    try {
      Class<?> newElementsStrategyFactoryCls = Class.forName("jetbrains.mps.lang.text.editor.NewElementStrategyFactory");
      Method createNewElementStrategyMethod = newElementsStrategyFactoryCls.getDeclaredMethod("createNewElementStrategy", SNode.class, EditorContext.class, boolean.class);
      createNewElementStrategyMethod.setAccessible(true);
      Object result = createNewElementStrategyMethod.invoke(null, node, editorContext, isFirstPosition);
      Class<?> textStrategyCls = Class.forName("jetbrains.mps.lang.text.editor.TextStrategy");
      Method executeMethod = textStrategyCls.getDeclaredMethod("execute");
      executeMethod.setAccessible(true);
      executeMethod.invoke(result);

    } catch (Exception e) {
      LogContext.with(NewElementStrategyFactoryWrapper.class, e, null, null).error("Error");
    }
  }
}

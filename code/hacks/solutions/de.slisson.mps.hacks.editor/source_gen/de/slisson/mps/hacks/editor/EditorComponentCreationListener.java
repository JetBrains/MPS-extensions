package de.slisson.mps.hacks.editor;

/*Generated by MPS */

import jetbrains.mps.openapi.editor.extensions.EditorExtension;
import jetbrains.mps.project.Project;
import jetbrains.mps.ide.project.ProjectHelper;
import org.jetbrains.annotations.NotNull;
import jetbrains.mps.openapi.editor.EditorComponent;
import jetbrains.mps.openapi.editor.extensions.EditorExtensionRegistry;

/**
 * 
 * @deprecated  Use jetbrains.mps.openapi.editor.extensions.EditorExtension
 */
@Deprecated
public abstract class EditorComponentCreationListener implements EditorExtension {

  private Project myProject;

  @Deprecated
  public EditorComponentCreationListener(Project project) {
    myProject = project;
  }

  @Deprecated
  public EditorComponentCreationListener(com.intellij.openapi.project.Project ideaProject) {
    this(ProjectHelper.fromIdeaProject(ideaProject));
  }

  @Override
  public void install(@NotNull EditorComponent component) {
    editorComponentCreate(((jetbrains.mps.nodeEditor.EditorComponent) component));
  }

  @Override
  public boolean isApplicable(@NotNull EditorComponent component) {
    return true;
  }

  @Override
  public void uninstall(@NotNull EditorComponent component) {
    editorComponentDisposed(((jetbrains.mps.nodeEditor.EditorComponent) component));
  }

  public void start(boolean ignored_eventForExisting) {
    // EditorExtensionRegistry is MPS CoreComponent since 2024.1, use MPS project to access component instance (backward compatible with earlier MPS versions)
    myProject.getComponent(EditorExtensionRegistry.class).registerExtension(this);
  }

  public void stop() {
    myProject.getComponent(EditorExtensionRegistry.class).unregisterExtension(this);
  }

  public abstract void editorComponentCreate(jetbrains.mps.nodeEditor.EditorComponent editorComponent);
  public abstract void editorComponentDisposed(jetbrains.mps.nodeEditor.EditorComponent editorComponent);

}

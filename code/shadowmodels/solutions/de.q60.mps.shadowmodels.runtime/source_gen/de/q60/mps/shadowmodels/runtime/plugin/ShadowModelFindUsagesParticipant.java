package de.q60.mps.shadowmodels.runtime.plugin;

/*Generated by MPS */

import org.jetbrains.mps.openapi.persistence.FindUsagesParticipant;
import java.util.Collection;
import org.jetbrains.mps.openapi.model.SModel;
import java.util.Set;
import org.jetbrains.mps.openapi.model.SNode;
import org.jetbrains.mps.openapi.util.Consumer;
import org.jetbrains.mps.openapi.model.SReference;
import jetbrains.mps.internal.collections.runtime.CollectionSequence;
import de.q60.mps.shadowmodels.runtime.smodel.SM_ShadowModel;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import org.jetbrains.mps.openapi.model.SModelReference;
import org.jetbrains.annotations.Nullable;
import org.jetbrains.mps.openapi.util.ProgressMonitor;

/**
 * Disable find usages inside ShadowModel instances.
 * Avoid warning "Fast usages search is not supported for model .... Usages search may be slow"
 */
public class ShadowModelFindUsagesParticipant implements FindUsagesParticipant {

  public static final ShadowModelFindUsagesParticipant INSTANCE = new ShadowModelFindUsagesParticipant();

  @Override
  public void findUsages(Collection<SModel> scope, Set<SNode> nodes, Consumer<SReference> consumer, Consumer<SModel> processedConsumer) {
    for (SModel model : CollectionSequence.fromCollection(scope)) {
      if (model instanceof SM_ShadowModel) {
        processedConsumer.consume(model);
      }
    }
  }
  @Override
  public void findInstances(Collection<SModel> scope, Set<SAbstractConcept> concepts, Consumer<SNode> consumer, Consumer<SModel> processedConsumer) {
    for (SModel model : CollectionSequence.fromCollection(scope)) {
      if (model instanceof SM_ShadowModel) {
        processedConsumer.consume(model);
      }
    }
  }
  @Override
  public void findModelUsages(Collection<SModel> scope, Set<SModelReference> modelReferences, Consumer<SModel> consumer, Consumer<SModel> processedConsumer) {
    for (SModel model : CollectionSequence.fromCollection(scope)) {
      if (model instanceof SM_ShadowModel) {
        processedConsumer.consume(model);
      }
    }
  }
  @Override
  public void findUsages(Collection<SModel> scope, Set<SNode> nodes, Consumer<SReference> consumer, Consumer<SModel> processedConsumer, @Nullable ProgressMonitor monitor) {
    for (SModel model : CollectionSequence.fromCollection(scope)) {
      if (model instanceof SM_ShadowModel) {
        processedConsumer.consume(model);
      }
    }
  }
  @Override
  public void findInstances(Collection<SModel> scope, Set<SAbstractConcept> concepts, Consumer<SNode> consumer, Consumer<SModel> processedConsumer, @Nullable ProgressMonitor monitor) {
    for (SModel model : CollectionSequence.fromCollection(scope)) {
      if (model instanceof SM_ShadowModel) {
        processedConsumer.consume(model);
      }
    }
  }
  @Override
  public void findModelUsages(Collection<SModel> scope, Set<SModelReference> modelReferences, Consumer<SModel> consumer, Consumer<SModel> processedConsumer, @Nullable ProgressMonitor monitor) {
    for (SModel model : CollectionSequence.fromCollection(scope)) {
      if (model instanceof SM_ShadowModel) {
        processedConsumer.consume(model);
      }
    }
  }
}

package de.itemis.mps.editor.diagram.runtime.jgraph;

/*Generated by MPS */

import com.mxgraph.view.mxCellState;
import java.awt.Graphics2D;
import de.itemis.mps.editor.diagram.runtime.model.Bounds;
import java.awt.FontMetrics;
import java.awt.geom.Rectangle2D;

public class ResetViewButton extends ContextButton {

  public ResetViewButton(double size, mxCellState state) {
    super(size, state);
  }


  @Override
  protected void paintSymbol(Graphics2D g) {
    Bounds buttonBounds = getBounds();
    buttonBounds.expand(buttonBounds.getWidth() * -0.1);
    g.setFont(g.getFont().deriveFont(7.0f));
    FontMetrics fontMetrics = g.getFontMetrics();
    Rectangle2D stringBounds = fontMetrics.getStringBounds("1:1", g);
    g.translate(buttonBounds.getX(), buttonBounds.getY());
    g.scale(buttonBounds.getWidth() / stringBounds.getWidth(), buttonBounds.getHeight() / stringBounds.getHeight());
    g.translate(-stringBounds.getX(), -stringBounds.getY());
    g.drawString("1:1", 0.0f, 0.0f);
  }


  @Override
  public String getTooltip() {
    return "Reset scale and translation";
  }

  @Override
  protected void execute() {
    getGraph().resetScaleAndTranslation();
  }
}

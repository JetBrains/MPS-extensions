package com.mbeddr.mpsutil.grammarcells.runtime;

/*Generated by MPS */

import jetbrains.mps.openapi.editor.menus.transformation.TransformationMenuContext;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import com.mbeddr.mpsutil.grammarcells.runtime.menu.DisabledOutputConcepts;
import java.util.List;
import jetbrains.mps.openapi.editor.menus.substitute.SubstituteMenuItem;
import jetbrains.mps.openapi.editor.menus.substitute.SubstituteMenuContext;
import java.util.Collections;
import jetbrains.mps.openapi.editor.menus.transformation.TransformationMenuItem;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.openapi.editor.menus.transformation.CompletionActionItem;
import jetbrains.mps.openapi.editor.cells.SubstituteAction;
import jetbrains.mps.smodel.IOperationContext;
import jetbrains.mps.smodel.action.NodeSubstituteActionsFactoryContext;
import org.jetbrains.mps.openapi.model.SModel;

public abstract class AbstractGrammarActionDescriptor implements IGrammarActionsDescriptor {


  protected void addSideTransformRemoval(TransformationMenuContext context, SAbstractConcept... conceptToRemove) {
    for (SAbstractConcept c : conceptToRemove) {
      DisabledOutputConcepts.getInstance(context).disable(c);
    }
  }

  @Override
  public List<SubstituteMenuItem> getActions(SubstituteMenuContext _context, SAbstractConcept expectedOutputConceptExactly) {
    return Collections.<SubstituteMenuItem>emptyList();
  }

  @Override
  public List<TransformationMenuItem> getSideTransformActions(TransformationMenuContext _context) {
    List<TransformationMenuItem> result = doGetSideTransformActions(_context);
    for (TransformationMenuItem action : ListSequence.fromList(result)) {
      if (!(action instanceof CompletionActionItem)) {
        throw new RuntimeException(action.getClass().getName() + " does not implement " + CompletionActionItem.class.getName());
      }
    }
    return result;
  }

  protected List<TransformationMenuItem> doGetSideTransformActions(TransformationMenuContext _context) {
    return Collections.<TransformationMenuItem>emptyList();
  }

  @Override
  public List<SubstituteAction> getConstantReplaceActions(IOperationContext operationContext, NodeSubstituteActionsFactoryContext _context, List<IToken> elementsBefore, List<IToken> elementsAfter) {
    return Collections.<SubstituteAction>emptyList();
  }

  @Override
  public List<IRule> getRules(SModel contextModel) {
    return Collections.<IRule>emptyList();
  }
}

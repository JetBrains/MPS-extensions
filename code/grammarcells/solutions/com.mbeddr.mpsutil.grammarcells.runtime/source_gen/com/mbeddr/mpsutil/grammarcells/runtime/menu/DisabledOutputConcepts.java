package com.mbeddr.mpsutil.grammarcells.runtime.menu;

/*Generated by MPS */

import java.util.Map;
import jetbrains.mps.internal.collections.runtime.MapSequence;
import java.util.WeakHashMap;
import java.util.Set;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import jetbrains.mps.internal.collections.runtime.SetSequence;
import java.util.HashSet;

public class DisabledOutputConcepts {

  private static Map<Object, DisabledOutputConcepts> instances = MapSequence.fromMap(new WeakHashMap<Object, DisabledOutputConcepts>());

  public static DisabledOutputConcepts getInstance(Object context) {
    DisabledOutputConcepts instance = MapSequence.fromMap(instances).get(context);
    if (instance == null) {
      instance = new DisabledOutputConcepts();
      MapSequence.fromMap(instances).put(context, instance);
    }
    return instance;
  }

  private Set<SAbstractConcept> myDisabledConcepts = SetSequence.fromSet(new HashSet<SAbstractConcept>());

  public void disable(SAbstractConcept concept) {
    SetSequence.fromSet(myDisabledConcepts).addElement(concept);
  }

  public boolean isDisabled(SAbstractConcept concept) {
    return SetSequence.fromSet(myDisabledConcepts).contains(concept);
  }
}

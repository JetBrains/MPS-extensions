package de.slisson.mps.tables.runtime.gridmodel;

/*Generated by MPS */

import jetbrains.mps.openapi.editor.cells.EditorCell;
import de.slisson.mps.tables.runtime.cells.ChildsTracker;
import jetbrains.mps.openapi.editor.cells.CellAction;
import jetbrains.mps.openapi.editor.cells.CellActionType;

public class EditorCellHeader extends Header {
  private EditorCell myCell;

  public EditorCellHeader(HeaderReference reference, EditorCell editorCell) {
    super(reference);
    myCell = editorCell;
    ChildsTracker.getInstance().registerHeader(editorCell);
  }

  private void setEditorCell(EditorCell cell) {
    myCell = cell;
  }

  public EditorCell getEditorCell() {
    return myCell;
  }

  @Override
  public void setInsertAction(CellAction action) {
    setAction(CellActionType.INSERT, action);
  }
  @Override
  public void setInsertBeforeAction(CellAction action) {
    setAction(CellActionType.INSERT_BEFORE, action);
  }
  public CellAction getInsertAction() {
    return getAction(CellActionType.INSERT);
  }
  public CellAction getInsertBeforeAction() {
    return getAction(CellActionType.INSERT_BEFORE);
  }
  @Override
  public void setAction(CellActionType actionType, CellAction action) {
    myCell.setAction(actionType, action);
  }
  public CellAction getAction(CellActionType type) {
    return myCell.getAction(type);
  }

  @Override
  public void combine(Header existing) {
    super.combine(existing);
    if (existing instanceof EditorCellHeader) {
      EditorCellHeader ecHeader = ((EditorCellHeader) existing);
      if (getInsertAction() == null) {
        setInsertAction(ecHeader.getInsertAction());
      }
      if (getInsertBeforeAction() == null) {
        setInsertBeforeAction(ecHeader.getInsertBeforeAction());
      }
    }
  }
}

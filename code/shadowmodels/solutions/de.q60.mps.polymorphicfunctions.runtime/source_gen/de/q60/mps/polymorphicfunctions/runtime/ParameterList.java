package de.q60.mps.polymorphicfunctions.runtime;

/*Generated by MPS */

import jetbrains.mps.internal.collections.runtime.Sequence;
import java.util.Collections;
import jetbrains.mps.internal.collections.runtime.IterableUtils;
import java.util.Arrays;

public class ParameterList {
  public static final ParameterList EMPTY = new ParameterList(Sequence.fromIterable(Collections.<Object>emptyList()));

  private final Object[] myParameterValues;
  private int _cachedHashCode;
  private boolean _hashCodeInitialized = false;

  public ParameterList(Iterable<Object> parameterValues) {
    this(Sequence.fromIterable(parameterValues).toGenericArray(Object.class));
  }
  public ParameterList(Object[] parameterValues) {
    myParameterValues = parameterValues;
  }

  public int size() {
    return myParameterValues.length;
  }

  public Object get(int index) {
    return myParameterValues[index];
  }

  public Iterable<Object> asSequence() {
    return Sequence.fromArray(myParameterValues);
  }

  @Override
  public String toString() {
    return IterableUtils.join(Sequence.fromIterable(Sequence.fromArray(myParameterValues)).select((it) -> (it == null ? "null" : it.toString() + " [" + it.getClass().getSimpleName() + "]")), ", ");
  }

  @Override
  public boolean equals(Object o) {
    if (this == o) {
      return true;
    }
    if (o == null || this.getClass() != o.getClass()) {
      return false;
    }

    ParameterList that = (ParameterList) o;
    if (!(Arrays.equals(myParameterValues, that.myParameterValues))) {
      return false;
    }

    return true;
  }

  @Override
  public int hashCode() {
    if (!(_hashCodeInitialized)) {
      _cachedHashCode = Arrays.hashCode(myParameterValues);
      _hashCodeInitialized = true;
    }
    return _cachedHashCode;
  }
}

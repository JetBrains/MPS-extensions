/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */


 /*
 * Do not modify!
 */



apply from: 'dv-ddg-client/ddgconfig.gradle'



def java_args_config = {

  main = 'DepDataGen.build.util.ddg.cmd_tool.cmd_tool.DdgPipeRunner'

  //provide the paths to your projects here as java-args
  if(remote){
      args '---r'
      args "${url}"
  }
  else{
      args '---l'
  }

  // not applicable with mps-19-1
  //args '---a-p-u'
  //args "${plugins_location}"
  //end not applicable

  ddg_use_cases.each { use_case ->
      args "${use_case}"
  }

  //class path for ddg
  classpath file('./dv-ddg-client/ddg-pipe.jar')
  classpath file('./dv-ddg-client/gc-client.jar')
  classpath file('./dv-ddg-client/ddg.jar')
  classpath fileTree('./dv-ddg-client/dm.client.lib/')

  //mps-specific class path
  classpath file('./dv-ddg-client/jdi.jar')

  classpath fileTree("${mps_home}/lib") // $mps_home points to the MPS installation
  classpath fileTree("${mps_home}/plugins")
}

// ##################### mps extensions #####################

task run_ddg_mps_extensions(type: JavaExec) {

    configure java_args_config

    args '---vp'
    args 'mps.extensions'

    args '---f'
    args "./code"
}

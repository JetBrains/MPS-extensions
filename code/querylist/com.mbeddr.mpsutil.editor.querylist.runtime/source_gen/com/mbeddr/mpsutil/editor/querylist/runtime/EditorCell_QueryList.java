package com.mbeddr.mpsutil.editor.querylist.runtime;

/*Generated by MPS */

import jetbrains.mps.nodeEditor.cells.EditorCell_Collection;
import org.jetbrains.mps.openapi.language.SAbstractConcept;
import jetbrains.mps.openapi.editor.EditorContext;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.nodeEditor.cellLayout.CellLayout;
import org.jetbrains.mps.openapi.language.SContainmentLink;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;

public class EditorCell_QueryList extends EditorCell_Collection {

  private boolean myDisableModelChecking = false;
  private SAbstractConcept targetConcept = null;
  private SAbstractConcept owner = null;

  public EditorCell_QueryList(EditorContext context, SNode node, CellLayout layout, QueryListHandler handler) {
    super(context, node, layout, handler);
    setSRole(new SContainmentLink() {

      /**
       * Important for {@link jetbrains.mps.nodeEditor.ChildrenCollectionFinder} #isMultipleCollectionCell
       * 
       * To consider querlists for INSERT actions
       */
      @Override
      public boolean isMultiple() {
        return true;
      }

      @NotNull
      @Override
      public SAbstractConcept getTargetConcept() {
        return targetConcept;
      }

      @NotNull
      @Override
      public String getName() {
        return "queryListDummyRole";
      }

      @Override
      public boolean isValid() {
        return false;
      }

      @Deprecated
      @Override
      public String getRole() {
        return getName();
      }

      @Override
      public boolean isOptional() {
        return true;
      }

      @NotNull
      @Override
      public SAbstractConcept getOwner() {
        return owner;
      }

      @Deprecated
      @Override
      public boolean isReference() {
        return false;
      }

      @Deprecated
      @Nullable
      @Override
      public SNode getDeclarationNode() {
        return null;
      }

      @Deprecated
      @Override
      public String getRoleName() {
        return getName();
      }

      @Override
      public boolean isUnordered() {
        return false;
      }

      @Override
      public boolean isTransient() {
        return true;
      }
    });
  }

  public void toggleDisableModelChecking(boolean flag) {
    myDisableModelChecking = flag;
  }

  public boolean disableModelChecking() {
    return myDisableModelChecking;
  }

  public void setTargeConcept(SAbstractConcept concept) {
    targetConcept = concept;
  }

  public void setOwner(SAbstractConcept concept) {
    owner = concept;
  }

}

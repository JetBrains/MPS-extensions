package com.mbeddr.mpsutil.grammarcells.runtime.menu;

/*Generated by MPS */

import jetbrains.mps.lang.editor.menus.MenuPart;
import jetbrains.mps.openapi.editor.menus.transformation.TransformationMenuItem;
import jetbrains.mps.openapi.editor.menus.transformation.TransformationMenuContext;
import org.jetbrains.mps.openapi.module.SModule;
import org.jetbrains.mps.openapi.module.SRepository;
import org.jetbrains.annotations.NotNull;
import java.util.List;
import com.mbeddr.mpsutil.grammarcells.runtime.IGrammarActionsDescriptor;
import com.mbeddr.mpsutil.grammarcells.runtime.GrammarCellsUtil;
import java.util.Collections;

public abstract class GrammarCellsTransformationMenuPart implements MenuPart<TransformationMenuItem, TransformationMenuContext> {

  public abstract SModule getModule(SRepository repository);

  @NotNull
  @Override
  public List<TransformationMenuItem> createItems(TransformationMenuContext context) {
    IGrammarActionsDescriptor descriptor = GrammarCellsUtil.getDescriptor(getModule(context.getEditorContext().getRepository()));
    if (descriptor == null) {
      return Collections.<TransformationMenuItem>emptyList();
    }
    return descriptor.getSideTransformActions(context);
  }
}

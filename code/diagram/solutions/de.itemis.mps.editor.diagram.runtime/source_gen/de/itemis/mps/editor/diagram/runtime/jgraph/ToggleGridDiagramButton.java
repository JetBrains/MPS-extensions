package de.itemis.mps.editor.diagram.runtime.jgraph;

/*Generated by MPS */

import com.mxgraph.view.mxCellState;
import java.awt.Graphics2D;
import de.itemis.mps.editor.diagram.runtime.model.Bounds;

public class ToggleGridDiagramButton extends ContextButton {
  public ToggleGridDiagramButton(double size, mxCellState state) {
    super(size, state);
  }

  @Override
  protected void paintSymbol(Graphics2D g) {
    Bounds bounds = getBounds();
    int width = bounds.getWidthInt();
    int height = bounds.getHeightInt();
    int x = bounds.getXInt();
    int y = bounds.getYInt();

    int lineGap = 4;

    // draw vertical lines
    for (int lineX = x; lineX <= x + width; lineX += lineGap) {
      g.drawLine(lineX, y, lineX, y + height);
    }

    // draw horizontal lines
    for (int lineY = y; lineY <= y + height; lineY += lineGap) {
      g.drawLine(x, lineY, x + width, lineY);
    }
  }

  @Override
  public String getTooltip() {
    if (this.getGraph().getGraphComponent().isGridVisible()) {
      return "Hide Grid";
    } else {
      return "Show Grid";
    }
  }

  @Override
  protected void execute() {
    MyGraphComponent graphComponent = this.getGraph().getGraphComponent();
    graphComponent.setGridVisible(!(graphComponent.isGridVisible()));
  }
}

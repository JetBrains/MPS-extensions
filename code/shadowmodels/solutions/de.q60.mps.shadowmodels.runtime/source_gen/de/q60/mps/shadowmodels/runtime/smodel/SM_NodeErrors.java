package de.q60.mps.shadowmodels.runtime.smodel;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.SetSequence;
import java.util.HashSet;
import jetbrains.mps.internal.collections.runtime.Sequence;
import java.util.Collections;

public class SM_NodeErrors {
  private static final String KEY = SM_NodeErrors.class.getName();

  public static void set(SNode node, Iterable<String> errors) {
    node.putUserObject(KEY, SetSequence.fromSetWithValues(new HashSet<String>(), errors));
  }

  public static void add(SNode node, Iterable<String> errors) {
    set(node, Sequence.fromIterable(get(node)).concat(Sequence.fromIterable(errors)));
  }

  public static void add(SNode node, String error) {
    add(node, Sequence.<String>singleton(error));
  }

  public static void clear(SNode node) {
    if (node.getUserObject(KEY) != null) {
      node.putUserObject(KEY, null);
    }
  }

  public static Iterable<String> get(SNode node) {
    Iterable<String> errors = (Iterable<String>) node.getUserObject(KEY);
    return (errors == null ? Sequence.fromIterable(Collections.<String>emptyList()) : errors);
  }
}

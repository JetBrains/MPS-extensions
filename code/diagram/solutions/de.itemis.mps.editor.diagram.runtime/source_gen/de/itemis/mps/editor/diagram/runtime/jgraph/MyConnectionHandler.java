package de.itemis.mps.editor.diagram.runtime.jgraph;

/*Generated by MPS */

import com.mxgraph.swing.handler.mxConnectionHandler;
import com.mxgraph.swing.mxGraphComponent;
import com.mxgraph.swing.handler.mxConnectPreview;

public class MyConnectionHandler extends mxConnectionHandler {
  public MyConnectionHandler(mxGraphComponent graphComponent) {
    super(graphComponent);
  }

  @Override
  protected mxConnectPreview createConnectPreview() {
    return new MyConnectPreview(graphComponent);
  }

  @Override
  public boolean isValidSource(Object cell) {
    if (!(isConnecting())) {
      return cell instanceof PortDCell;
    }
    return super.isValidSource(cell);
  }

  @Override
  public void reset() {
    MyGraph graph = (MyGraph) graphComponent.getGraph();
    graph.getConnectionTypeChooser().setForced(null);
    super.reset();
  }
}

package com.mbeddr.mpsutil.grammarcells.runtime;

/*Generated by MPS */

import java.util.List;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.Iterator;

public class SyntaxMatcher {

  public boolean matches(List<IToken> elements, List<ISymbol> matchers, boolean write, SNode targetNode) {

    if (ListSequence.fromList(elements).count() != ListSequence.fromList(matchers).count()) {
      return false;
    }

    {
      Iterator<IToken> element_it = ListSequence.fromList(elements).iterator();
      Iterator<ISymbol> matcher_it = ListSequence.fromList(matchers).iterator();
      IToken element_var;
      ISymbol matcher_var;
      while (element_it.hasNext() && matcher_it.hasNext()) {
        element_var = element_it.next();
        matcher_var = matcher_it.next();
        if (!(matcher_var.matches(element_var))) {
          return false;
        }
        if (write) {
          matcher_var.write(element_var, targetNode);
        }
      }
    }

    return true;
  }

}

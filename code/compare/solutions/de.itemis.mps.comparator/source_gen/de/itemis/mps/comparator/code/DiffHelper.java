package de.itemis.mps.comparator.code;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import com.intellij.openapi.project.Project;
import de.itemis.mps.compare.behavior.IDiffable__BehaviorDescriptor;
import com.intellij.diff.DiffContentFactory;
import com.intellij.openapi.vfs.VirtualFile;
import com.intellij.diff.requests.DiffRequest;
import com.intellij.diff.requests.SimpleDiffRequest;
import com.intellij.diff.DiffManager;
import com.intellij.diff.DiffDialogHints;

public class DiffHelper {
  public static void showDifference(SNode diffableNode, TextComparison.TextComparisonResult comparisonResult, Project ideaProject) {
    if ((boolean) IDiffable__BehaviorDescriptor.isDiffEnabled_id6Od11GY7tN$.invoke(diffableNode)) {
      DiffContentFactory contentFactory = DiffContentFactory.getInstance();
      VirtualFile expectedFolder = comparisonResult.getExpectedFolder();
      VirtualFile actualFolder = comparisonResult.getActualFolder();
      DiffRequest diffRequest = new SimpleDiffRequest("Folder comparison failed", contentFactory.create(ideaProject, expectedFolder), contentFactory.create(ideaProject, actualFolder), expectedFolder.getName(), actualFolder.getName());
      DiffManager.getInstance().showDiff(ideaProject, diffRequest, DiffDialogHints.FRAME);
    }
  }
}

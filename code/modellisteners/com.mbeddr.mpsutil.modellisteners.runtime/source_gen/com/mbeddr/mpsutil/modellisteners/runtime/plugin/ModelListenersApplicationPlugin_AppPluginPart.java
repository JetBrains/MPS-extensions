package com.mbeddr.mpsutil.modellisteners.runtime.plugin;

/*Generated by MPS */

import jetbrains.mps.plugins.part.ApplicationPluginPart;
import com.mbeddr.mpsutil.modellisteners.runtime.GlobalListener;
import jetbrains.mps.smodel.MPSModuleRepository;
import jetbrains.mps.ide.MPSCoreComponents;

public class ModelListenersApplicationPlugin_AppPluginPart extends ApplicationPluginPart {
  private GlobalListener listener;
  public ModelListenersApplicationPlugin_AppPluginPart() {
  }
  @Override
  public void init() {
    ModelListenersApplicationPlugin_AppPluginPart.this.listener = new GlobalListener();
    final MPSModuleRepository repo = MPSCoreComponents.getInstance().getPlatform().findComponent(MPSModuleRepository.class);

    repo.getModelAccess().runReadAction(() -> ModelListenersApplicationPlugin_AppPluginPart.this.listener.install(repo));
  }
  @Override
  public void dispose() {
    ModelListenersApplicationPlugin_AppPluginPart.this.listener.uninstall();
  }
}

package de.itemis.mps.tooltips.runtime.plugin;

/*Generated by MPS */

import jetbrains.mps.plugins.part.ProjectPluginPart;
import jetbrains.mps.openapi.editor.extensions.EditorExtension;
import jetbrains.mps.project.MPSProject;
import org.jetbrains.annotations.NotNull;
import jetbrains.mps.openapi.editor.EditorComponent;
import de.itemis.mps.tooltips.runtime.TooltipManager;
import jetbrains.mps.openapi.editor.extensions.EditorExtensionRegistry;

public class ProjectPlugin_ProjectPluginPart extends ProjectPluginPart {
  private EditorExtension myCreateListener;
  public ProjectPlugin_ProjectPluginPart() {
  }
  @Override
  public void init(MPSProject project) {

    ProjectPlugin_ProjectPluginPart.this.myCreateListener = new EditorExtension() {
      @Override
      public boolean isApplicable(@NotNull EditorComponent component) {
        return component instanceof jetbrains.mps.nodeEditor.EditorComponent;
      }
      @Override
      public void install(@NotNull EditorComponent component) {
        // make sure a TooltipManager is created for the EditorComponent
        TooltipManager.getInstance((jetbrains.mps.nodeEditor.EditorComponent) component);
      }
      @Override
      public void uninstall(@NotNull EditorComponent component) {
        TooltipManager.disposeInstance((jetbrains.mps.nodeEditor.EditorComponent) component);
      }
    };
    project.getComponent(EditorExtensionRegistry.class).registerExtension(ProjectPlugin_ProjectPluginPart.this.myCreateListener);
  }
  @Override
  public void dispose(MPSProject project) {
    project.getComponent(EditorExtensionRegistry.class).unregisterExtension(ProjectPlugin_ProjectPluginPart.this.myCreateListener);
    ProjectPlugin_ProjectPluginPart.this.myCreateListener = null;
  }
}

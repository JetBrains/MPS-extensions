package com.dslfoundry.langvis.plugin.plugin;

/*Generated by MPS */

import java.awt.event.MouseListener;
import java.awt.event.MouseMotionListener;
import java.awt.Point;
import javax.swing.JComponent;
import java.awt.event.MouseEvent;
import javax.swing.JViewport;
import javax.swing.SwingUtilities;
import java.awt.Rectangle;

public class DragScrollListener implements MouseListener, MouseMotionListener {
  private Point origin;
  private JComponent scrollableComponent;

  public DragScrollListener(JComponent scrollableComponent) {
    this.scrollableComponent = scrollableComponent;
    scrollableComponent.addMouseListener(this);
    scrollableComponent.addMouseMotionListener(this);
  }

  @Override
  public void mousePressed(MouseEvent event) {
    origin = new Point(event.getPoint());
  }
  @Override
  public void mouseDragged(MouseEvent event) {
    if (origin != null) {
      JViewport viewPort = (JViewport) SwingUtilities.getAncestorOfClass(JViewport.class, this.scrollableComponent);
      if (viewPort != null) {
        int deltaX = origin.x - event.getX();
        int deltaY = origin.y - event.getY();
        Rectangle view = viewPort.getViewRect();
        view.x += deltaX;
        view.y += deltaY;
        scrollableComponent.scrollRectToVisible(view);
      }
    }
  }
  @Override
  public void mouseMoved(MouseEvent event) {
  }
  @Override
  public void mouseClicked(MouseEvent event) {
  }
  @Override
  public void mouseReleased(MouseEvent event) {
  }
  @Override
  public void mouseEntered(MouseEvent event) {
  }
  @Override
  public void mouseExited(MouseEvent event) {
  }
}

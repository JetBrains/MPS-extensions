package com.mbeddr.mpsutil.grammarcells.runtime;

/*Generated by MPS */

import org.jetbrains.mps.openapi.language.SAbstractConcept;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;

/**
 * SConcept.hashCode always returns 0, what is bad for the performance of hash maps. Wrap the SConcept with this class
 * to improve the performance.
 */
public class ConceptKey {

  private SAbstractConcept myConcept;

  public ConceptKey(SAbstractConcept concept) {
    myConcept = concept;
  }


  @Override
  public boolean equals(Object o) {
    if (this == o) {
      return true;
    }
    if (o == null || this.getClass() != o.getClass()) {
      return false;
    }

    ConceptKey that = (ConceptKey) o;
    if ((myConcept != null ? !(((Object) myConcept).equals(that.myConcept)) : that.myConcept != null)) {
      return false;
    }
    if ((myConcept != null ? !(SConceptOperations.isExactly(SNodeOperations.asSConcept(myConcept), SNodeOperations.asSConcept(that.myConcept))) : that.myConcept != null)) {
      return false;
    }

    return true;
  }

  @Override
  public int hashCode() {
    return check_h0tq3_a0a8(check_h0tq3_a0a0i(myConcept));
  }
  private static int check_h0tq3_a0a8(String checkedDotOperand) {
    if (null != checkedDotOperand) {
      return checkedDotOperand.hashCode();
    }
    return 0;
  }
  private static String check_h0tq3_a0a0i(SAbstractConcept checkedDotOperand) {
    if (null != checkedDotOperand) {
      return checkedDotOperand.getQualifiedName();
    }
    return null;
  }
}

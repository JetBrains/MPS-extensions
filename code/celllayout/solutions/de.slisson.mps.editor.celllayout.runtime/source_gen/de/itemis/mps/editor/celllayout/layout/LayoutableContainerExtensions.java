package de.itemis.mps.editor.celllayout.layout;

/*Generated by MPS */

import jetbrains.mps.internal.collections.runtime.Sequence;
import de.itemis.mps.editor.celllayout.boxmodel.EditorCellBoxModel;

public class LayoutableContainerExtensions {
  public LayoutableContainerExtensions() {
  }
  public static void adjustToChildren(final ILayoutableContainer _this) {
    LayoutableContainerExtensions.adjustToChildren(_this, _this.getChildren());
  }
  public static void adjustToChildren(final ILayoutableContainer _this, Iterable<ILayoutable> children) {
    if (Sequence.fromIterable(children).isEmpty()) {
      return;
    }

    ILayoutable first = Sequence.fromIterable(children).first();
    int minX = first.getX();
    int maxX = LayoutableExtensions.getMaxX(first);
    int minY = first.getY();
    int maxY = LayoutableExtensions.getMaxY(first);

    for (ILayoutable child : Sequence.fromIterable(children)) {
      minX = Math.min(minX, child.getX());
      maxX = Math.max(maxX, LayoutableExtensions.getMaxX(child));
      minY = Math.min(minY, child.getY());
      maxY = Math.max(maxY, LayoutableExtensions.getMaxY(child));
    }

    _this.getBoxModel().getPaddingBox().setFrameSize(0);
    ((EditorCellBoxModel) _this.getBoxModel()).getAdditionalPadding().setFrameSize(0);
    _this.setInnerBounds(minX, minY, maxX - minX, maxY - minY);
  }
}

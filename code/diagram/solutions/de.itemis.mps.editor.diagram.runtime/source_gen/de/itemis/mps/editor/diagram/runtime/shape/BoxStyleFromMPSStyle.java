package de.itemis.mps.editor.diagram.runtime.shape;

/*Generated by MPS */

import jetbrains.mps.openapi.editor.style.Style;
import java.awt.Graphics2D;
import java.awt.geom.Rectangle2D;
import java.awt.Color;
import jetbrains.mps.editor.runtime.style.StyleAttributes;
import de.itemis.mps.editor.diagram.styles.editor.LineStyle;
import de.itemis.mps.editor.diagram.styles.editor.StyleUtils;

public class BoxStyleFromMPSStyle extends GradientShapeStyle {

  private Style myStyle;

  public BoxStyleFromMPSStyle(Style style, boolean hasShadow) {
    super(hasShadow);
    myStyle = style;
  }

  @Override
  public void configureFill(Graphics2D g, Rectangle2D bounds) {
    super.configureFill(g, bounds);

    Color shadeColor = myStyle.get(StyleAttributes.getInstance().<Color>getAttribute("de.itemis.mps.editor.diagram.styles", "__shade-color"));
    if (shadeColor != null) {
      g.setPaint(ShapeUtil.createGradientPaint(shadeColor, bounds));
    }
  }

  @Override
  public void configureBorder(Graphics2D g, Rectangle2D bounds) {
    super.configureBorder(g, bounds);

    LineStyle lineStyle = myStyle.get(StyleAttributes.getInstance().<LineStyle>getAttribute("de.itemis.mps.editor.diagram.styles", "__line-style"));
    float lineWidth = myStyle.get(StyleAttributes.getInstance().<Float>getAttribute("de.itemis.mps.editor.diagram.styles", "__line-width"));
    g.setStroke(StyleUtils.createStroke(lineWidth, lineStyle));
    g.setColor(myStyle.get(StyleAttributes.getInstance().<Color>getAttribute("de.itemis.mps.editor.diagram.styles", "__line-color")));
  }
}

package de.q60.mps.shadowmodels.runtime.engine;

/*Generated by MPS */

import org.jetbrains.annotations.Nullable;

public interface ISubgraphStage {
  ITransformationEngine getEngine();
  IStageReference getStageReference();
  IStageReference getPreviousStageRef();
  IScope getOwnScope();
  <T extends IContainmentTarget> IUniqueContainmentTarget<T> makeUnique(@Nullable IScope scope, T target);
  void registerContent(IUniqueContainmentTarget call, @Nullable ITransformationResult tresult, @Nullable IContainment containment);
  void registerWeaving(IWeaving weaving);
  void registerRewriteReplacement(IUniqueContainmentTarget<RewriteCall> rewriteCall, IUniqueContainmentTarget replacement);

  IOutputNodeReference resolveWeavingTarget(IScope sourceScope, IReferenceTarget target);
  @Nullable
  Iterable<IOutputNodeReference> resolveContainmentTarget(IUniqueContainmentTarget target);
  IContainment resolveContainment(IOutputNodeReference child);
  IContainment resolveContainment(IUniqueContainmentTarget child);
  ITransformationResult getTransformationResult(IUniqueContainmentTarget<TransformationCall> call);
  Iterable<IUniqueContainmentTarget> resolveContent(IContainmentTarget target);
  Iterable<MappingLabels> getMappingLabels();

  boolean hasPendingWeavings();
  Iterable<IWeaving> getPendingWeavings();
  void clearPendingWeavings();

  boolean hasAnyTransformationsApplied();

  Iterable<IUniqueContainmentTarget> getRoots();

  Iterable<ScopeImport> getDeclaredImports();

}

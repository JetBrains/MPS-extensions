package de.q60.mps.polymorphicfunctions.runtime;

/*Generated by MPS */

import org.jetbrains.annotations.NotNull;
import jetbrains.mps.internal.collections.runtime.Sequence;

public class ContextPFContext extends AbstractPFContext {

  private IPFContext parentContext;
  private String contextId;
  private ParameterList contextParameters;

  public ContextPFContext(@NotNull IPFContext parentContext, @NotNull String contextId, @NotNull ParameterList contextParameters) {
    this.parentContext = parentContext;
    this.contextId = contextId;
    this.contextParameters = contextParameters;
  }

  @Override
  public Object callFunction(String id, ParameterList parameters, IPFContext context) {
    return parentContext.callFunction(id, parameters, context);
  }

  @Override
  public Iterable<Object> callFunctions(String id, ParameterList parameters, IPFContext context) {
    return parentContext.callFunctions(id, parameters, context);
  }

  @Override
  public ParameterList getContextParameters(String contextId) {
    if (this.contextId.equals(contextId)) {
      return this.contextParameters;
    } else {
      return parentContext.getContextParameters(contextId);
    }
  }

  @Override
  public Iterable<String> getGroups() {
    return parentContext.getGroups();
  }

  @Override
  public Iterable<String> getContexts() {
    return Sequence.fromIterable(parentContext.getContexts()).concat(Sequence.fromIterable(Sequence.<String>singleton(contextId)));
  }
}

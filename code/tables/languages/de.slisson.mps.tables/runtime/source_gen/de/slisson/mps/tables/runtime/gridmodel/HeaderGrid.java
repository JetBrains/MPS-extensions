package de.slisson.mps.tables.runtime.gridmodel;

/*Generated by MPS */

import de.slisson.mps.tables.runtime.simplegrid.SimpleGrid;
import jetbrains.mps.baseLanguage.tuples.runtime.Tuples;
import java.util.Objects;
import jetbrains.mps.baseLanguage.tuples.runtime.MultiTuple;

public class HeaderGrid extends SimpleGrid<HeaderReference> {
  private HeaderStore myHeaderStore = new HeaderStore();

  public HeaderStore getHeaderStore() {
    return myHeaderStore;
  }

  public void setElement(int x, int y, Header header) {
    myHeaderStore.storeHeader(header);
    setElement(x, y, header.getReference());
  }

  public void setElements(int offsetX, int offsetY, HeaderGrid elements) {
    myHeaderStore.putAll(elements.getHeaderStore());
    for (int x = 0; x < elements.getSizeX(); x++) {
      for (int y = 0; y < elements.getSizeY(); y++) {
        setElement(x + offsetX, y + offsetY, elements.getElement(x, y));
      }
    }
  }

  public Tuples._2<Integer, Integer> findIndex(Header header) {
    for (int x = 0; x < this.getSizeX(); x++) {
      for (int y = 0; y < this.getSizeY(); y++) {
        if (Objects.equals(getElement(x, y), header.getReference())) {
          return MultiTuple.<Integer,Integer>from(x, y);
        }
      }
    }
    return null;
  }

  @Override
  public HeaderGrid transposeCloned() {
    HeaderGrid transposed = new HeaderGrid();
    transposed.myHeaderStore.putAll(myHeaderStore);
    transposed.setElements(0, 0, super.transposeCloned());
    return transposed;
  }
}

package de.itemis.mps.editor.math.symbols;

/*Generated by MPS */

import de.itemis.mps.editor.math.runtime.AbstractMathSymbol;
import java.awt.Graphics2D;
import java.awt.geom.Rectangle2D;
import java.awt.geom.Line2D;
import de.itemis.mps.editor.math.runtime.Dimension2DDouble;
import jetbrains.mps.openapi.editor.TextBuilder;
import jetbrains.mps.nodeEditor.EditorSettings;
import jetbrains.mps.openapi.editor.cells.EditorFontMetrics;
import jetbrains.mps.nodeEditor.EditorComponentSettingsImpl;
import java.awt.Font;
import jetbrains.mps.editor.runtime.TextBuilderImpl;

public class VerticalLine extends AbstractMathSymbol {

  public VerticalLine() {
  }

  protected void paint(Graphics2D g, Rectangle2D bounds) {
    g.draw(new Line2D.Double(bounds.getCenterX(), bounds.getMinY(), bounds.getCenterX(), bounds.getMaxY()));
  }
  protected void updateDimension(Dimension2DDouble dimension) {
    dimension.width = 3;
  }

  @Override
  public TextBuilder renderText() {
    Rectangle2D bounds = getBounds();
    EditorSettings settings = EditorSettings.getInstance();
    EditorFontMetrics fontMetrics = EditorComponentSettingsImpl.DEFAULT_SETTINGS.getFontMetrics(settings.getFontFamily(), Font.PLAIN, EditorComponentSettingsImpl.DEFAULT_SETTINGS.getFontSize());
    int heightOfOneDash = fontMetrics.getHeight();

    TextBuilder builder = new TextBuilderImpl();
    int numberOfDashes = (int) bounds.getHeight() / heightOfOneDash;
    for (int i = 0; i < numberOfDashes; i++) {
      builder.appendToTheBottom(new TextBuilderImpl("|"));
    }
    return builder;
  }
}

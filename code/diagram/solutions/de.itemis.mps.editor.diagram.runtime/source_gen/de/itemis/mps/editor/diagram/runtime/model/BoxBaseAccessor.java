package de.itemis.mps.editor.diagram.runtime.model;

/*Generated by MPS */

import org.jetbrains.annotations.Nullable;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;
import de.itemis.mps.editor.diagram.runtime.DiagramUtil;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import org.jetbrains.mps.openapi.language.SConcept;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SProperty;

public abstract class BoxBaseAccessor extends AbstractDiagramElementAccessor {

  public BoxBaseAccessor(IAccessorKey id) {
    super(id);
  }

  @Nullable
  public SNode getLayoutData() {
    return SNodeOperations.as(myDiagramAccessor.getLayoutData(getId()), CONCEPTS.Layout_Box$XH);
  }

  @Override
  public boolean hasLayoutData() {
    return getLayoutData() != null;
  }

  protected Bounds readBounds(SNode data) {
    return new Bounds(DiagramUtil.parseDoubleSafe(SPropertyOperations.getString(data, PROPS.bounds_x$tmjb), 0.0), DiagramUtil.parseDoubleSafe(SPropertyOperations.getString(data, PROPS.bounds_y$tmyc), 0.0), DiagramUtil.parseDoubleSafe(SPropertyOperations.getString(data, PROPS.bounds_width$tmLd), 30.0), DiagramUtil.parseDoubleSafe(SPropertyOperations.getString(data, PROPS.bounds_height$tn0e), 20.0));
  }

  protected void writeBounds(Bounds bounds, SNode data) {
    String x = Double.toString(bounds.getX());
    String y = Double.toString(bounds.getY());
    String w = Double.toString(bounds.getWidth());
    String h = Double.toString(bounds.getHeight());

    if (!(x.equals(SPropertyOperations.getString(data, PROPS.bounds_x$tmjb)))) {
      SPropertyOperations.assign(data, PROPS.bounds_x$tmjb, x);
    }
    if (!(y.equals(SPropertyOperations.getString(data, PROPS.bounds_y$tmyc)))) {
      SPropertyOperations.assign(data, PROPS.bounds_y$tmyc, y);
    }
    if (!(w.equals(SPropertyOperations.getString(data, PROPS.bounds_width$tmLd)))) {
      SPropertyOperations.assign(data, PROPS.bounds_width$tmLd, w);
    }
    if (!(h.equals(SPropertyOperations.getString(data, PROPS.bounds_height$tn0e)))) {
      SPropertyOperations.assign(data, PROPS.bounds_height$tn0e, h);
    }
  }

  private static final class CONCEPTS {
    /*package*/ static final SConcept Layout_Box$XH = MetaAdapterFactory.getConcept(0x8ca79d43eb454791L, 0xbdd40d6130ff895bL, 0x5d43fef24d2a502eL, "de.itemis.mps.editor.diagram.layout.structure.Layout_Box");
  }

  private static final class PROPS {
    /*package*/ static final SProperty bounds_x$tmjb = MetaAdapterFactory.getProperty(0x8ca79d43eb454791L, 0xbdd40d6130ff895bL, 0x5d43fef24d2a502eL, 0x5d43fef24d2a508dL, "bounds_x");
    /*package*/ static final SProperty bounds_y$tmyc = MetaAdapterFactory.getProperty(0x8ca79d43eb454791L, 0xbdd40d6130ff895bL, 0x5d43fef24d2a502eL, 0x5d43fef24d2a508eL, "bounds_y");
    /*package*/ static final SProperty bounds_width$tmLd = MetaAdapterFactory.getProperty(0x8ca79d43eb454791L, 0xbdd40d6130ff895bL, 0x5d43fef24d2a502eL, 0x5d43fef24d2a508fL, "bounds_width");
    /*package*/ static final SProperty bounds_height$tn0e = MetaAdapterFactory.getProperty(0x8ca79d43eb454791L, 0xbdd40d6130ff895bL, 0x5d43fef24d2a502eL, 0x5d43fef24d2a5090L, "bounds_height");
  }
}

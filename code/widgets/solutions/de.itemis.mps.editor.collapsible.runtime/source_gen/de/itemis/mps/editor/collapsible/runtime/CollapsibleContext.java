package de.itemis.mps.editor.collapsible.runtime;

/*Generated by MPS */

import org.jetbrains.annotations.NotNull;

public class CollapsibleContext {
  @NotNull
  private static ICollapsibleFactory currentFactory = new DefaultCollapsibleFactory();


  @NotNull
  public static ICollapsibleFactory getFactory() {
    return currentFactory;
  }

  public static void withFactory(@NotNull ICollapsibleFactory factory, Runnable runnable) {
    ICollapsibleFactory previous = currentFactory;
    try {
      currentFactory = factory;
      runnable.run();
    } finally {
      currentFactory = previous;
    }
  }
}

package com.dslfoundry.langvis.plugin.plugin;

/*Generated by MPS */

import jetbrains.mps.logging.Logger;
import java.util.Arrays;
import java.io.BufferedReader;
import java.io.InputStreamReader;

public class SysUtils {
  private static final Logger LOG = Logger.getLogger(SysUtils.class);
  public static String ExecuteCommand(String[] command) {
    StringBuffer output = new StringBuffer();
    Process process;
    try {
      process = Runtime.getRuntime().exec(command);
      System.out.println("run " + Arrays.toString(command));
      if (LOG.isDebugLevel()) {
        LOG.debug("Wait for process");
      }
      process.waitFor();
      if (LOG.isDebugLevel()) {
        LOG.debug("Now Process output of command");
      }
      BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));
      String line;
      while ((line = reader.readLine()) != null) {
        output.append(line);
      }
    } catch (Exception e) {
      if (LOG.isErrorLevel()) {
        LOG.error("Failed to run " + Arrays.toString(command), e);
      }
    }
    return output.toString();
  }
}

package de.itemis.mps.selection.runtime.plugin;

/*Generated by MPS */

import jetbrains.mps.plugins.part.ApplicationPluginPart;
import jetbrains.mps.openapi.editor.extensions.EditorExtension;
import org.jetbrains.annotations.NotNull;
import jetbrains.mps.openapi.editor.EditorComponent;
import de.itemis.mps.selection.runtime.mouse.DragSelectionMouseListener;
import de.itemis.mps.selection.runtime.intentions.SelectionIntentionsManager;
import jetbrains.mps.openapi.editor.extensions.EditorExtensionRegistry;

public class ApplicationPlugin_AppPluginPart extends ApplicationPluginPart {
  private EditorExtension selectionListener = new EditorExtension() {
    @Override
    public boolean isApplicable(@NotNull EditorComponent editorComponent) {
      return editorComponent instanceof jetbrains.mps.nodeEditor.EditorComponent;
    }

    @Override
    public void install(@NotNull EditorComponent editorComponent) {
      DragSelectionMouseListener.getOrCreateInstance(((jetbrains.mps.nodeEditor.EditorComponent) editorComponent)).install();
    }

    @Override
    public void uninstall(@NotNull EditorComponent editorComponent) {
      check_t5qngh_a0a4a0a0(DragSelectionMouseListener.getInstance(((jetbrains.mps.nodeEditor.EditorComponent) editorComponent)));
    }
  };
  public ApplicationPlugin_AppPluginPart() {
  }
  @Override
  public void init() {
    SelectionIntentionsManager.getInstance().init();
    EditorExtension extension = ApplicationPlugin_AppPluginPart.this.selectionListener;
    check_t5qngh_a2a0(getPlatform().findComponent(EditorExtensionRegistry.class), extension);
  }
  @Override
  public void dispose() {
    DragSelectionMouseListener.uninstallAll();
    SelectionIntentionsManager.getInstance().dispose();
    EditorExtension extension = ApplicationPlugin_AppPluginPart.this.selectionListener;
    getPlatform().findComponent(EditorExtensionRegistry.class).unregisterExtension(extension);
  }
  private static void check_t5qngh_a0a4a0a0(DragSelectionMouseListener checkedDotOperand) {
    if (null != checkedDotOperand) {
      checkedDotOperand.uninstall();
    }

  }
  private static void check_t5qngh_a2a0(EditorExtensionRegistry checkedDotOperand, EditorExtension extension) {
    if (null != checkedDotOperand) {
      checkedDotOperand.registerExtension(extension);
    }

  }
}

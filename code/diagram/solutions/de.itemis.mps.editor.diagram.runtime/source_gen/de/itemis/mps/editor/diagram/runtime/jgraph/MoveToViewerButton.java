package de.itemis.mps.editor.diagram.runtime.jgraph;

/*Generated by MPS */

import org.jetbrains.mps.openapi.module.SRepository;
import com.mxgraph.view.mxCellState;
import java.awt.Graphics2D;
import de.itemis.mps.editor.diagram.runtime.model.Bounds;

public class MoveToViewerButton extends ContextButton {
  /*package*/ SRepository repository;

  public MoveToViewerButton(SRepository repository, double size, mxCellState state) {
    super(size, state);

    this.repository = repository;
  }

  @Override
  protected void paintSymbol(Graphics2D g) {
    Bounds bounds = getBounds();
    int x1 = bounds.getXInt();
    int y1 = bounds.getYInt();
    int width = bounds.getWidthInt();
    int height = bounds.getHeightInt();
    int x2 = x1 + width / 2;
    int y2 = y1 + height;
    int x3 = x1 + width;

    g.drawLine(x1, y1, x2, y2);
    g.drawLine(x2, y2, x3, y1);
  }

  @Override
  public String getTooltip() {
    RootDiagramECell diagramCell = getGraph().getRootDCell().getECell();

    return "Move Diagram to " + ((diagramCell.showInViewer() ? "Editor" : "Viewer"));
  }

  @Override
  protected void execute() {
    DiagramActionsUtil.moveToViewer(getGraph(), repository);
  }
}

package de.q60.mps.explorer;

/*Generated by MPS */

import javax.swing.tree.DefaultMutableTreeNode;
import javax.swing.Icon;
import jetbrains.mps.baseLanguage.closures.runtime._FunctionTypes;
import org.jetbrains.mps.openapi.model.SNode;
import javax.swing.tree.DefaultTreeModel;
import javax.swing.tree.MutableTreeNode;

public class TNode extends DefaultMutableTreeNode {
  private Icon icon;
  private _FunctionTypes._return_P0_E0<? extends SNode> navigationTarget;
  private boolean expandByDefault;
  private boolean isInitialized = false;
  private boolean forceChildrenLazyLoading = false;
  private Object detailViewRoot;

  public TNode(Object value, Icon icon) {
    super(value);
    setIcon(icon);
  }
  public TNode(Object value) {
    super(value);
  }
  public TNode setIcon(Icon icon) {
    this.icon = icon;
    return this;
  }
  public Icon getIcon() {
    return icon;
  }
  public void expandByDefault(boolean value) {
    expandByDefault = value;
  }
  public boolean expandByDefault() {
    return expandByDefault;
  }
  public TNode setNavigationTarget(_FunctionTypes._return_P0_E0<? extends SNode> target) {
    this.navigationTarget = target;
    return this;
  }
  public TNode setNavigationTarget(final SNode target) {
    return setNavigationTarget(() -> target);
  }
  public SNode getNavigationTarget() {
    return (navigationTarget == null ? null : navigationTarget.invoke());
  }

  public Object getDetailViewRoot() {
    return this.detailViewRoot;
  }

  public void setDetailViewRoot(Object detailViewRoot) {
    this.detailViewRoot = detailViewRoot;
  }

  public boolean forceChildrenLazyLoading() {
    return forceChildrenLazyLoading;
  }
  public boolean forceChildrenLazyLoading(boolean value) {
    return forceChildrenLazyLoading = value;
  }

  public boolean isInitialized() {
    return isInitialized;
  }

  public void ensureInitialized(DefaultTreeModel model) {
    if (!(isInitialized)) {
      while (getChildCount() > 0) {
        model.removeNodeFromParent((MutableTreeNode) getChildAt(0));
      }
      initialize(model);
      isInitialized = true;
    }
  }

  protected void initialize(DefaultTreeModel model) {
  }
}

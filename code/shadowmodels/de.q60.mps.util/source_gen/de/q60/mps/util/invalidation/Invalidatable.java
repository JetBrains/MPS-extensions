package de.q60.mps.util.invalidation;

/*Generated by MPS */

import jetbrains.mps.baseLanguage.closures.runtime._FunctionTypes;

public class Invalidatable implements IInvalidatable {

  private String text;
  private _FunctionTypes._void_P0_E0 callback;

  public Invalidatable(String text, _FunctionTypes._void_P0_E0 callback) {
    this.text = text;
    this.callback = callback;
    Invalidator.getInstance().register(this);
  }

  public void dispose() {
    Invalidator.getInstance().unregister(this);
  }

  @Override
  public String getText() {
    return text;
  }

  @Override
  public void invalidate() {
    callback.invoke();
  }
}

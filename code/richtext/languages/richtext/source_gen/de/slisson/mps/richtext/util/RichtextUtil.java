package de.slisson.mps.richtext.util;

/*Generated by MPS */

import java.util.List;
import jetbrains.mps.openapi.editor.cells.EditorCell_Label;
import jetbrains.mps.openapi.editor.cells.EditorCell;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import java.util.ArrayList;
import jetbrains.mps.openapi.editor.cells.CellTraversalUtil;

public class RichtextUtil {
  public RichtextUtil() {
  }
  public static List<EditorCell_Label> getAllConstantCells(EditorCell parentCell) {
    List<EditorCell_Label> result = ListSequence.fromList(new ArrayList<EditorCell_Label>());
    EditorCell currentLeaf = CellTraversalUtil.getFirstLeaf(parentCell);
    while (currentLeaf != null) {
      if (currentLeaf instanceof EditorCell_Label && !(((EditorCell_Label) currentLeaf).isEditable())) {
        ListSequence.fromList(result).addElement((EditorCell_Label) currentLeaf);
      }
      currentLeaf = CellTraversalUtil.getNextLeaf(currentLeaf);
    }
    return result;
  }

  public static String safeSubstring(String str, int start, int end) {
    if (str == null) {
      return "";
    }
    if (start < 0) {
      start = 0;
    }
    if (end > str.length()) {
      end = str.length();
    }
    if (start > end) {
      return "";
    }
    return str.substring(start, end);
  }
  public static String safeSubstring(String str, int start) {
    if (str == null) {
      return "";
    }
    return safeSubstring(str, start, str.length());
  }
  public static String substringAfter(String str, String separator) {
    if ((str == null || str.length() == 0)) {
      return str;
    }
    if (separator == null) {
      return "";
    }
    int pos = str.indexOf(separator);
    if (pos == -1) {
      return "";
    }
    return str.substring(pos + separator.length());
  }
  public static String substringBefore(String str, String separator) {
    if ((str == null || str.length() == 0)) {
      return str;
    }
    if (separator.length() == 0) {
      return "";
    }
    int pos = str.indexOf(separator);
    if (pos == -1) {
      return str;
    }
    return str.substring(0, pos);
  }

  public static boolean _preventSelectionHandling;

  public static void preventSelectionHandling() {
    _preventSelectionHandling = true;
  }
}

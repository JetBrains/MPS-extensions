package de.itemis.mps.editor.diagram.runtime.jgraph;

/*Generated by MPS */

import com.mxgraph.view.mxCellState;
import java.awt.Graphics2D;
import java.awt.BasicStroke;
import de.itemis.mps.editor.diagram.runtime.model.Bounds;
import com.intellij.ui.JBColor;

public class MaximizeDiagramButton extends FitSizeButton {
  public MaximizeDiagramButton(double size, mxCellState state) {
    super(size, state);
  }

  @Override
  protected void paintSymbol(Graphics2D g) {
    g.setColor(LINE_COLOR);
    g.setStroke(new BasicStroke(((float) getLineWidth()), BasicStroke.CAP_ROUND, BasicStroke.JOIN_ROUND));


    Bounds bounds = getBounds();
    double arrowLen = bounds.getWidth() * 0.15;
    bounds.expand(bounds.getWidth() * -0.2);

    Bounds bounds2 = bounds.clone();
    bounds2.expand(bounds2.getWidth() * -0.25);

    drawLine(g, bounds.getRightTop(), bounds2.getRightTop());
    drawLine(g, bounds.getRightTop(), bounds.getRightTop().moveY(arrowLen));
    drawLine(g, bounds.getRightTop(), bounds.getRightTop().moveX(-arrowLen));

    drawLine(g, bounds.getLeftBottom(), bounds2.getLeftBottom());
    drawLine(g, bounds.getLeftBottom(), bounds.getLeftBottom().moveY(-arrowLen));
    drawLine(g, bounds.getLeftBottom(), bounds.getLeftBottom().moveX(arrowLen));
  }

  @Override
  protected void paintBackground(Graphics2D g, boolean highlighted) {
    if (getGraph().getGraphComponent().isMaxmimizedMode() && !(highlighted)) {
      g.setColor(JBColor.YELLOW);
      g.fill(ExtensionMethods.toRectangle2D(getBounds()));

    } else {
      super.paintBackground(g, highlighted);
    }
  }

  @Override
  public String getTooltip() {
    return "Maximize Diagram";
  }

  @Override
  protected void execute() {
    MyGraphComponent graphComponent = getGraph().getGraphComponent();
    graphComponent.setMaximizedMode(!(graphComponent.isMaxmimizedMode()));
  }


}

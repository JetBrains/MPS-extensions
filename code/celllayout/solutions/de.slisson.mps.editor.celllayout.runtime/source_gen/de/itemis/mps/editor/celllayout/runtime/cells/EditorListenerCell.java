package de.itemis.mps.editor.celllayout.runtime.cells;

/*Generated by MPS */

import jetbrains.mps.nodeEditor.cells.EditorCell_Basic;
import javax.swing.event.AncestorListener;
import org.jetbrains.annotations.NotNull;
import jetbrains.mps.openapi.editor.EditorContext;
import javax.swing.event.AncestorEvent;
import java.awt.Graphics;
import jetbrains.mps.nodeEditor.cells.ParentSettings;

public class EditorListenerCell extends EditorCell_Basic implements AncestorListener {

  private final EditorListenerCellProvider _provider;

  public EditorListenerCell(@NotNull EditorContext editorContext, EditorListenerCellProvider provider) {
    super(editorContext, provider.getSNode());
    _provider = provider;
    setSelectable(false);
  }

  @Override
  public void ancestorAdded(AncestorEvent event) {
    _provider.onEditorLoaded();
  }

  @Override
  public void ancestorRemoved(AncestorEvent event) {
    _provider.onEditorUnloaded();
  }

  @Override
  public void ancestorMoved(AncestorEvent event) {
  }

  @Override
  protected void paintContent(Graphics graphics, ParentSettings settings) {
    // nothing to do (cell is not visible)
  }


  @Override
  public void onAdd() {
    super.onAdd();
    getEditor().addAncestorListener(this);
  }

  @Override
  public void onRemove() {
    getEditor().removeAncestorListener(this);
    super.onRemove();
  }
}

package de.slisson.mps.conditionalEditor.runtime.plugin;

/*Generated by MPS */

import jetbrains.mps.plugins.part.ProjectPluginPart;
import jetbrains.mps.project.MPSProject;
import jetbrains.mps.nodeEditor.hintsSettings.ConceptEditorHintSettingsComponent;
import jetbrains.mps.ide.project.ProjectHelper;
import java.util.Set;

public class conditionalEditorProjectPlugin_ProjectPluginPart extends ProjectPluginPart {
  public conditionalEditorProjectPlugin_ProjectPluginPart() {
  }
  @Override
  public void init(MPSProject project) {
    // enable conditional editor hint by default
    ConceptEditorHintSettingsComponent settingsComponent = ConceptEditorHintSettingsComponent.getInstance(ProjectHelper.toIdeaProject(project));
    ConceptEditorHintSettingsComponent.HintsState state = settingsComponent.getState();
    Set<String> enabledHints = state.getEnabledHints();

    // All conditional editors use this hint. This allows the user to disable the conditional editor
    // by removing this hint
    enabledHints.add("de.slisson.mps.conditionalEditor.hints.editor.conditionalEditorHints.conditionalEditor");

    // MPS stops searching for editors, if one has exactly the hints, that are currently enabled.
    // This hint is enabled, so that this condition is never true. That's why this hint should not be used by
    // any editor.
    enabledHints.add("de.slisson.mps.conditionalEditor.hints.editor.conditionalEditorHints.conditionalEditor_doNotUseThisHint");

    state.setEnabledHints(enabledHints);
    settingsComponent.loadState(state);
  }
}

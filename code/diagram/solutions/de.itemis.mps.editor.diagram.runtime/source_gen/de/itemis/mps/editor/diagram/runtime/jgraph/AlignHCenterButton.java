package de.itemis.mps.editor.diagram.runtime.jgraph;

/*Generated by MPS */

import com.mxgraph.view.mxCellState;
import java.awt.Graphics2D;
import java.awt.BasicStroke;
import de.itemis.mps.editor.diagram.runtime.model.Bounds;
import java.awt.geom.Line2D;

public class AlignHCenterButton extends AlignButton {
  public AlignHCenterButton(double size, mxCellState state) {
    super(size, state);
  }

  @Override
  protected void paintSymbol(Graphics2D g) {
    g.setColor(LINE_COLOR);
    g.setStroke(new BasicStroke(((float) getLineWidth()), BasicStroke.CAP_ROUND, BasicStroke.JOIN_ROUND));

    Bounds bounds = getBounds();
    bounds.expand(bounds.getWidth() * -0.2);

    Bounds box1 = bounds.clone();
    box1.setHeight(box1.getHeight() * 0.4);

    Bounds box2 = bounds.clone();
    box2.setHeight(box2.getHeight() * 0.4);
    box2.setWidth(box2.getWidth() * 0.6);
    box2.setBottom(bounds.getMaxY());
    box2.setX(box1.getCenterX() - box2.getWidth() / 2);

    g.setColor(LINE_COLOR.brighter());
    g.draw(ExtensionMethods.toRectangle2D(box1));
    g.draw(ExtensionMethods.toRectangle2D(box2));

    g.setColor(LINE_COLOR.darker());
    g.draw(new Line2D.Double(bounds.getCenterX(), bounds.getMinY(), bounds.getCenterX(), bounds.getMaxY()));
  }

  @Override
  protected void doAlign(BaseDCell cell, BaseDCell otherCell) {
    Bounds bounds = CellExtensions.getAbsoluteBounds(otherCell);
    bounds.setX(CellExtensions.getAbsoluteBounds(cell).getCenterX() - bounds.getWidth() / 2);
    CellExtensions.setAbsoluteBounds(otherCell, bounds);
  }

  @Override
  public String getTooltip() {
    return "Align Horizontal Center";
  }

}

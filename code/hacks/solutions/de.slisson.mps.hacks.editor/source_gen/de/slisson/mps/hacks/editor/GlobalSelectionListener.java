package de.slisson.mps.hacks.editor;

/*Generated by MPS */

import jetbrains.mps.openapi.editor.selection.SelectionListener;
import jetbrains.mps.project.Project;
import jetbrains.mps.nodeEditor.EditorComponent;

public abstract class GlobalSelectionListener implements SelectionListener {

  private EditorComponentCreationListener myEditorComponentCreationListener;

  public GlobalSelectionListener(final Project project) {
    myEditorComponentCreationListener = new EditorComponentCreationListener(project) {
      public void editorComponentCreate(EditorComponent editorComponent) {
        if (editorComponent.getEditorContext().getOperationContext().getProject() == project) {
          editorComponent.getSelectionManager().addSelectionListener(GlobalSelectionListener.this);
        }
      }
      public void editorComponentDisposed(EditorComponent editorComponent) {
        if (editorComponent.getEditorContext().getOperationContext().getProject() == project) {
          editorComponent.getSelectionManager().removeSelectionListener(GlobalSelectionListener.this);
        }
      }
    };
  }

  public void start() {
    myEditorComponentCreationListener.start(true);
  }

  public void stop() {
    myEditorComponentCreationListener.stop();
  }
}

package de.itemis.mps.editor.diagram.runtime.jgraph;

/*Generated by MPS */

import com.mxgraph.view.mxCellState;
import java.awt.Graphics2D;
import de.itemis.mps.editor.diagram.runtime.model.Bounds;
import de.itemis.mps.editor.diagram.runtime.plugin.NotificationUtil;
import com.intellij.notification.NotificationType;

public class ClearLayoutDataButton extends ContextButton {
  public ClearLayoutDataButton(double size, mxCellState state) {
    super(size, state);
  }

  @Override
  protected void paintSymbol(Graphics2D g) {
    Bounds bounds = getBounds();
    int x1 = bounds.getXInt();
    int y1 = bounds.getYInt();
    int width = bounds.getWidthInt();
    int height = bounds.getHeightInt();

    g.drawLine(x1, y1, x1 + width, y1 + height);
    g.drawLine(x1, y1 + height, x1 + width, y1);
  }

  @Override
  public String getTooltip() {
    return "Clear Layout Data";
  }

  @Override
  protected void execute() {
    DiagramActionsUtil.clearLayoutData(getGraph().getRootDCell());
    NotificationUtil.showNotification("Diagram", "Layout information cleared", NotificationType.INFORMATION);
  }
}

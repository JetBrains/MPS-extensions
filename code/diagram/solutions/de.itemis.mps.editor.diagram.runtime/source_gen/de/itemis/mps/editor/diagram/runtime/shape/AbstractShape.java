package de.itemis.mps.editor.diagram.runtime.shape;

/*Generated by MPS */

import java.awt.Graphics2D;
import java.awt.geom.Rectangle2D;
import java.awt.Shape;
import org.jetbrains.annotations.Nullable;

public abstract class AbstractShape implements IShape {

  @Override
  public void draw(Graphics2D graphics, Rectangle2D bounds, IShapeStyle_Internal style) {
    Shape shape = getShape(bounds);
    Graphics2D g;
    if (shape == null) {
      if (style.hasShadow()) {
        g = (Graphics2D) graphics.create();
        style.configureShadow(g, bounds);
        drawShadow(g, bounds, new ShapeStyleAdapter(g, style));
        g.dispose();
      }

      g = (Graphics2D) graphics.create();
      style.configureFill(g, bounds);
      draw(g, bounds, new ShapeStyleAdapter(g, style));
      g.dispose();
    } else {
      if (style.hasShadow()) {
        g = (Graphics2D) graphics.create();
        style.configureShadow(g, bounds);
        drawShapeShadow(g, shape);
        g.dispose();
      }

      if (style.hasFill()) {
        g = (Graphics2D) graphics.create();
        style.configureFill(g, bounds);
        drawShape(g, shape);
        g.dispose();
      }

      if (style.hasBorder()) {
        g = (Graphics2D) graphics.create();
        style.configureBorder(g, bounds);
        drawShapeBorder(g, shape);
        g.dispose();
      }
    }
  }

  protected void draw(Graphics2D g, Rectangle2D bounds, IShapeStyle style) {
  }

  protected void drawShadow(Graphics2D g, Rectangle2D bounds, IShapeStyle style) {
    g.fill(bounds);
  }

  public void drawShape(Graphics2D g, Shape shape) {
    g.fill(shape);
  }

  public void drawShapeBorder(Graphics2D g, Shape shape) {
    g.draw(shape);
  }

  public void drawShapeShadow(Graphics2D g, Shape shape) {
    g.fill(shape);
  }

  public Shape getShape(Rectangle2D bounds) {
    return null;
  }

  @Nullable
  @Override
  public Double getDefaultSize() {
    return null;
  }
}


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="MPS-extensions">
      
      
      
        <link rel="canonical" href="https://jetbrains.github.io/MPS-extensions/extensions/other/shadow-models/">
      
      
        <link rel="prev" href="../project-view/">
      
      
        <link rel="next" href="../changelog/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Shadow Models - MPS Extensions</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#shadow-models" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="MPS Extensions" class="md-header__button md-logo" aria-label="MPS Extensions" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MPS Extensions
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Shadow Models
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_1">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/jetbrains/mps-extensions" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    mps-extensions
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../building/" class="md-tabs__link">
        
  
  
    
  
  Building

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../contributing/" class="md-tabs__link">
        
  
  
    
  
  Contributing

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../migrating/" class="md-tabs__link">
        
  
  
    
  
  Migrating

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../adding/" class="md-tabs__link">
        
  
  
    
  
  Adding

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../full_extensions_list/" class="md-tabs__link">
        
  
  
    
  
  Full Extension List

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../editor/celllayout/" class="md-tabs__link">
          
  
  
  Editor extensions

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../bl-extensions/structure-check/" class="md-tabs__link">
          
  
  
  Other extensions

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="MPS Extensions" class="md-nav__button md-logo" aria-label="MPS Extensions" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    MPS Extensions
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jetbrains/mps-extensions" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    mps-extensions
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../building/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Building
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../migrating/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Migrating
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../adding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Adding
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../full_extensions_list/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Full Extension List
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Editor extensions
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Editor extensions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../editor/celllayout/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cell Layout
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../editor/conditional-editor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Conditional Editor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../editor/diagrams/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Diagrams
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../editor/grammar-cells/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Grammar Cells
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../editor/math/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Math
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../editor/mouse-selection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Intentions for custom selections
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../editor/multiline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multiline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../editor/querylist/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Query List
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../editor/richtext/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Richtext
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../editor/tables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../editor/tree-notation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tree Notation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../editor/widgets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Widgets
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../editor/linenumbers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Line Numbers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../editor/pagination/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pagination
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Other extensions
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Other extensions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_1" >
        
          
          <label class="md-nav__link" for="__nav_8_1" id="__nav_8_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Base Language Extensions
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Base Language Extensions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bl-extensions/structure-check/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Structure Check
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bl-extensions/blutil/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Base Language Util (blutil)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Generator
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Generator
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../generator/plaintext-gen/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plaintext Generator
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_3" checked>
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Other
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Other
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../langvis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Language Visualizer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../project-view/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Project View
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Shadow Models
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Shadow Models
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Examples
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transformations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Transformations
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#repository-meta-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Repository Meta Model
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shadow-repository" class="md-nav__link">
    <span class="md-ellipsis">
      
        Shadow Repository
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Forks
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-resolution" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reference Resolution
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reference Resolution">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#differences-for-forks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Differences for Forks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#identity-of-a-node" class="md-nav__link">
    <span class="md-ellipsis">
      
        Identity of a Node
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#references-to-non-shadow-nodes" class="md-nav__link">
    <span class="md-ellipsis">
      
        References to Non-Shadow Nodes
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#traceback" class="md-nav__link">
    <span class="md-ellipsis">
      
        Traceback
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reduction-rules-and-generation-plans" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reduction rules and generation plans
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reduction rules and generation plans">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mappings-cnfigurations-and-goals" class="md-nav__link">
    <span class="md-ellipsis">
      
        Mappings Cnfigurations and Goals
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generation-plans" class="md-nav__link">
    <span class="md-ellipsis">
      
        Generation plans
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reduction-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reduction Rules
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#weaving-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Weaving Rules
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#property-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Property Rules
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reference Rules
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scopes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Scopes
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../stubs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Stubs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8_6" >
        
          
          <label class="md-nav__link" for="__nav_8_6" id="__nav_8_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Utilities
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Utilities
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/intentions-menu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Intentions Menu
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/model-listener/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Model Listener
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/hacks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hacks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/debug/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Debug
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/spellcheck/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Spell Check
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/statistics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Statistics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/model-merger/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Model Merger
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/node-versioning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Node Versioning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/serializer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Serializer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="shadow-models">Shadow Models<a class="headerlink" href="#shadow-models" title="Permanent link">&para;</a></h1>
<p><strong>Language Namespace :</strong> <code>de.q60.mps.shadowmodels</code></p>
<p>A shadow model is a non-editable model derived from existing models by model-to-model transformations.
It&rsquo;s incrementally maintained while editing the input model.</p>
<p>A special language describes the transformations, designed to support incremental updates of the output model.
Dynamic dependency tracking is used during the executing of the transformations
which remove the need for a declarative language.
Base Language expressions with all its extensions are supported inside the transformation rules.</p>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h2>
<p>There&rsquo;s a separate <code>Shadow Models (Examples)</code> plugin that contains some example languages and transformation
implementations to show you how to build your own shadow models.
The languages and input models can be found in the namespace <code>de.q60.mps.shadowmodels.examples</code>.
The transformations are implemented in the <em>transformation</em> aspect.</p>
<h2 id="transformations">Transformations<a class="headerlink" href="#transformations" title="Permanent link">&para;</a></h2>
<p>The transformation language is similar to the MPS generator language.
It has transformation rules with a left side that describes the input it applies to and a
right side that creates the output.</p>
<p>The right side is similar to
<a href="https://www.jetbrains.com/help/mps/quotations.html#lightquotations_quotationbuilders">light quotations</a>
instead of using the concrete syntax of the target language.</p>
<h2 id="repository-meta-model">Repository Meta Model<a class="headerlink" href="#repository-meta-model" title="Permanent link">&para;</a></h2>
<p>When you implement transformations there&rsquo;s an important difference when working with modules and models.
In the world of shadow models there&rsquo;s only one root node concept <code>Repository</code>.
Modules and models are descendants of this single root node.
What in MPS is a root node is here just a child of a node of concept <code>Model</code>.
When you ask a root node for its parent, you get the <code>Model</code> node.</p>
<p>This has the advantage that you can define transformations on modules and models in the same way as on any other node.
You can query them using the more convenient smodel language instead of the Java API.</p>
<p>You have to keep in mind that asking a node for its root node always returns the repository.
If you need to know the model of a node, you have to write <code>node.ancestor&lt;Model&gt;</code> instead.
<code>node.getModel()</code> always returns null.</p>
<p>You can find the whole meta model in the language <code>de.q60.mps.shadowmodels.runtimelang</code>.
Here is a summary of it:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span>
<span class="normal"><a href="#__codelineno-0-6">6</a></span>
<span class="normal"><a href="#__codelineno-0-7">7</a></span>
<span class="normal"><a href="#__codelineno-0-8">8</a></span>
<span class="normal"><a href="#__codelineno-0-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>Repository
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>  modules: Module[0..n]
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>Module implements INamedConcept
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>  id: string
<a id="__codelineno-0-6" name="__codelineno-0-6"></a>  models: Model[0..n]
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a>Model implements INamedConcept
<a id="__codelineno-0-9" name="__codelineno-0-9"></a>  rootNodes: BaseConcept[0..n]
</code></pre></div></td></tr></table></div>
<h2 id="shadow-repository">Shadow Repository<a class="headerlink" href="#shadow-repository" title="Permanent link">&para;</a></h2>
<p>You can make the output of your transformations appear in the project explorer as shown in the image below.</p>
<p><img alt="Shadow repository in the project view" src="../../shadowmodels/shadow-repository-project-view.png" /></p>
<p>By default, this is disabled.
You can activate it by choosing <code>Tools &gt; Activate Shadow Repository</code> in the main menu.</p>
<p>To add your own output, you have to define a transformation that contributes to the predefined transformation
<code>ShadowRepository.Repository</code> in the transformations aspect of the language <em>de.q60.mps.shadowmodels.repository</em>.</p>
<p>Here is an example that you can find in the language <em>de.q60.mps.shadowmodels.examples.statemachine</em>:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span>
<span class="normal"><a href="#__codelineno-1-4">4</a></span>
<span class="normal"><a href="#__codelineno-1-5">5</a></span>
<span class="normal"><a href="#__codelineno-1-6">6</a></span>
<span class="normal"><a href="#__codelineno-1-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a>transformation t1 contributes to ShadowRepository.Repository (i0: Repository)
<a id="__codelineno-1-2" name="__codelineno-1-2"></a>-&gt; o0: Repository {
<a id="__codelineno-1-3" name="__codelineno-1-3"></a>         modules: Module {
<a id="__codelineno-1-4" name="__codelineno-1-4"></a>           name: &quot;examples.statemachines&quot; 
<a id="__codelineno-1-5" name="__codelineno-1-5"></a>           models: map _.modules.models.where(...) -&gt; call outputModel _  
<a id="__codelineno-1-6" name="__codelineno-1-6"></a>         } 
<a id="__codelineno-1-7" name="__codelineno-1-7"></a>       }
</code></pre></div></td></tr></table></div></p>
<p>It&rsquo;s important to know that the whole shadow repository is executed inside a fork.
This makes sure that references are updated to point to nodes inside the shadow repository.
You can, of course, create additional sub forks.</p>
<h2 id="forks">Forks<a class="headerlink" href="#forks" title="Permanent link">&para;</a></h2>
<p>Shadow models allow you to write transformations in two different styles.
You can write them like functions and call everything explicitly, or you can use forks.
Forks basically allow you to write transformations similar to how you would do it in the MPS generator.</p>
<p>In MPS, the unit of transformation is a model.
You can&rsquo;t generate a single class (in case of baseLanguage code) inside a model, 
and you can&rsquo;t generate classes from different models together.
Shadow model forks can have any node as the <strong>root</strong> of the fork.
If you decide to make a model the root of your fork, then you have the equivalent to MPS.
But often the single root nodes inside the model are a better choice for the fork root.
In case of baseLanguage classes, there&rsquo;s no difference if two classes
are in the same or in different models.</p>
<p>Forks also have support for <strong>mapping labels</strong> as you know them from MPS.
They can only work if the map is filled before mappings are queried from them.
Forks execute all transformations (which fill the map) before any reference is resolved (which queries mapping).
As in MPS where mapping labels only work inside the same model, here they only work inside the same fork.</p>
<p>Luckily, both have a solution for that.
MPS introduced <a href="https://www.jetbrains.com/help/mps/generation-plan.html#cross-modelgeneration">cross model generation</a>
where you define special checkpoints inside the generation plan.
In shadow models you can define <strong>fork dependencies</strong>.
If a transformation or mapping can&rsquo;t be found in the same fork,
they are searched in all forks that are defined as a dependency.
You can add dependencies in the upper part of any transformation that&rsquo;s part of the fork.</p>
<p>As all transformations, forks are executed on demand.
You don&rsquo;t have to take care of generating your <em>models</em> in the correct order.
If you define a fork dependency, the transformation engine makes sure that the target fork exists when it&rsquo;s needed.</p>
<p>A fork can specify a list of transformations that are <strong>automatically applied</strong> to the input,
just like reduction rules in MPS.
By default, there&rsquo;s only one attempt to apply transformations on all nodes that you copy using the <code>transform</code> keyword.
If there are nodes in the output where one of the transformations was applicable, nothing would happen unless 
you enable the <strong>fixpoint</strong> mode.
Then the fork is applied again on the output of the previous execution.
For performance reasons, a fork is by default not in fixpoint mode.</p>
<p>The <strong>identity</strong> of a fork is composed of the fork name and the parameter values of the fork call.
You can use this to create multiple copies of the same input node.
Just add an extra (string) parameter to the fork and use a different value for each copy.
The fork identity is part of the node identity of all its output nodes.</p>
<h2 id="reference-resolution">Reference Resolution<a class="headerlink" href="#reference-resolution" title="Permanent link">&para;</a></h2>
<h3 id="differences-for-forks">Differences for Forks<a class="headerlink" href="#differences-for-forks" title="Permanent link">&para;</a></h3>
<p>All transformations inside a fork are executed before any reference resolution happens.
You will get an exception when the reference target was not created in this first phase.
If you are not inside a fork, there aren&rsquo;t these two phases.
Transformations are executed independent of whether you access it through a parent-child relation or a reference.
You won&rsquo;t get an exception in this case.</p>
<h3 id="identity-of-a-node">Identity of a Node<a class="headerlink" href="#identity-of-a-node" title="Permanent link">&para;</a></h3>
<p>A node in the output is identified by the transformation name and the parameter values of the transformation call. 
If you call a fork then the identity of the fork (fork name + parameter values) will be part of all it&rsquo;s output nodes.</p>
<p>For references, it&rsquo;s often enough to specify the transformation call that creates the target.
It will then be resolved in the same fork, its dependencies or the parent fork.
If you need to, you can also specify the exact fork of the reference target. </p>
<h3 id="references-to-non-shadow-nodes">References to Non-Shadow Nodes<a class="headerlink" href="#references-to-non-shadow-nodes" title="Permanent link">&para;</a></h3>
<p>If you want to generate code against an existing runtime library,
you can just write a baseLanguage expression that returns an <code>SNode</code> or <code>SNodeReference</code>
to set a reference to a fixed target.
No resolution will happen in this case.</p>
<p>In the <em>statemachines</em> example, you can find the following transformation:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span>
<span class="normal"><a href="#__codelineno-2-4">4</a></span>
<span class="normal"><a href="#__codelineno-2-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a>transformation enumConst overrides ... [i0: INamedConcept]
<a id="__codelineno-2-2" name="__codelineno-2-2"></a>-&gt; o0: EnumConstantDeclaration {
<a id="__codelineno-2-3" name="__codelineno-2-3"></a>         name: _.name
<a id="__codelineno-2-4" name="__codelineno-2-4"></a>         constructor -&gt; *[node-ptr/Object-&gt;Object/]
<a id="__codelineno-2-5" name="__codelineno-2-5"></a>       }
</code></pre></div></td></tr></table></div>
The constructor reference is pointing to the constructor of the Object class in the JDK stub models.</p>
<h2 id="traceback">Traceback<a class="headerlink" href="#traceback" title="Permanent link">&para;</a></h2>
<p>For debugging the output in the shadow repository, you show the transformations that produced a given output node.
Right-click on an output node and choose <strong>Language Debug &gt; Shadow Models: Traceback</strong> from the context menu.</p>
<p><img alt="Traceback View" src="../../shadowmodels/traceback-view.png" /></p>
<h2 id="reduction-rules-and-generation-plans">Reduction rules and generation plans<a class="headerlink" href="#reduction-rules-and-generation-plans" title="Permanent link">&para;</a></h2>
<p>There are some use cases that are easier to implement with the MPS generator language
than with the explicit transformation calls of the shadow models language.
That&rsquo;s why there are now similar abstractions in the shadow models language.</p>
<h3 id="mappings-cnfigurations-and-goals">Mappings Cnfigurations and Goals<a class="headerlink" href="#mappings-cnfigurations-and-goals" title="Permanent link">&para;</a></h3>
<p>A mapping configuration in MPS is a container for reduction/weaving/&hellip; rules.
You can define rules to specify the order in which the mappings configuration are applied on the input model.</p>
<p>In shadow models there&rsquo;s now also a &ldquo;mapping configuration&rdquo; concept.
You can specify reduction and weaving rules inside of it.
The following example shows a concept that doesn&rsquo;t exist in MPS: goals.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span>
<span class="normal"><a href="#__codelineno-3-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a>goal toJava
<a id="__codelineno-3-2" name="__codelineno-3-2"></a>mapping configuration mc1 {
<a id="__codelineno-3-3" name="__codelineno-3-3"></a>    goal: toJava
<a id="__codelineno-3-4" name="__codelineno-3-4"></a>}
</code></pre></div></td></tr></table></div>
<p>A goal specifies what should happen with the input model.
All mapping configurations that contribute to the same goal are applied when the goal is called on some input.
While in MPS you always execute the same generators on a model,
goals enable you to produce multiple outputs by executing different goals on the same input.</p>
<h3 id="generation-plans">Generation plans<a class="headerlink" href="#generation-plans" title="Permanent link">&para;</a></h3>
<p>When you invoke a goal all mapping configurations that contribute to that goal are collected and sorted
into a generation plan.
A generation plan is dynamically computed from a set of rules.
The rules are the same as known from MPS.
A before/after rule will separate the generation into two steps where the output of the first is the input of the second
one.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span>
<span class="normal"><a href="#__codelineno-4-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a>goal toJava
<a id="__codelineno-4-2" name="__codelineno-4-2"></a>mapping configuration mc1 { ... }
<a id="__codelineno-4-3" name="__codelineno-4-3"></a>mapping configuration mc2 { ... }
<a id="__codelineno-4-4" name="__codelineno-4-4"></a>genplan rule: mc1 before mc3
</code></pre></div></td></tr></table></div>
<h3 id="reduction-rules">Reduction Rules<a class="headerlink" href="#reduction-rules" title="Permanent link">&para;</a></h3>
<p>Reduction rules are automatically applied to any applicable node on the input including its descendants.
Rules are repeatedly applied on the output up to 10 times.
If rules are then still applicable, the generation fails.</p>
<p>Conflicting reduction rules don&rsquo;t cause the generation to fail.
They behave in the same way as in the MPS generator.
The first applicable rule is used.
If they are part of the same mapping configuration, the order of the rules is relevant.
If they are part of different mappings configurations, it&rsquo;s undefined which rule is used.</p>
<h3 id="weaving-rules">Weaving Rules<a class="headerlink" href="#weaving-rules" title="Permanent link">&para;</a></h3>
<p>Weaving rules are used to insert an additional node as a child into an output node.
The target node is specified in the same way as in references,
but it has to be part of the output of the current goal execution.</p>
<p>Weaving rules are applied only on the initial input or on output nodes of a transformation.
If a node was copied without any change between sub steps, weaving rules aren&rsquo;t applied.
This prevents them from being reapplied on the same node again and again.  </p>
<h3 id="property-rules">Property Rules<a class="headerlink" href="#property-rules" title="Permanent link">&para;</a></h3>
<p>Property rules can change a value without doing any structural change to the model.
They are applied on the output after executing reduction and weaving rules.</p>
<h3 id="reference-rules">Reference Rules<a class="headerlink" href="#reference-rules" title="Permanent link">&para;</a></h3>
<p>Reference rules are the same as property rules except that they change a reference target instead of a property value.
The target is resolved in the scope of the output node.</p>
<h2 id="scopes">Scopes<a class="headerlink" href="#scopes" title="Permanent link">&para;</a></h2>
<p>Scopes can be used to resolve conflicts during reference resolution.
If the same node is copied multiple times into the output and you want to reference one of them,
you can put the source and the target node into the same scope.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../project-view/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Project View">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Project View
              </div>
            </div>
          </a>
        
        
          
          <a href="../changelog/" class="md-footer__link md-footer__link--next" aria-label="Next: Changelog">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Changelog
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.top", "navigation.instant", "navigation.tracking", "navigation.expand", "navigation.tabs", "navigation.tabs.sticky", "navigation.footer", "header.autohide", "content.code.annotate", "search.suggest", "search.highlight", "search.share", "announce.dismiss", "content.code.copy", "toc.integrate"], "search": "../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>